<!DOCTYPE html>
<html lang="en">
<!--<![endif]-->
<head id="docHead">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duval County Tax Collector </title>
    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link id="lnkCSS" rel="stylesheet" href="./content/css/app.css" type="text/css">
    <link rel="stylesheet" href="./content/css/progress.css" type="text/css">
    <link rel="stylesheet" href="./content/css/custom.css" type="text/css">
    <!-- JavaScript -->
    <!--[if lt IE 9]>
      <script src="/Js/html5shiv.min.js"></script>
      <script src="/Js/respond.min.js"></script>
      <![endif]-->
</head>
<body>
    <form method="post" id="frmDefault" autocomplete="off">
    <div class="container" style="max-width: 970px;">
        <!--// START LOGO, HEADER AND NAV //-->
        <header class="container">
        		<!--Logo-->
               <div class="row">
                  <div class="col-xs-12 header" style="padding:0px;">
                   <div class="row">
                   <div class="col-xs-12">
                     <img id="imgClientLogo" alt="Client Logo" title="The Client Logo" class="img-responsive" onerror="this.src=&#39;/img/B2P-Logo4.jpg&#39;;" src="./content/images/B2P-Logo4.jpg">  
                     </div>
                     <div class="col-xs-12">
                     <span id="clientName" class="customer" style="vertical-align:bottom "></span> 
                     </div>
                     </div>     
                  </div>
               </div>
               <!--End Logo-->
            </header>
        <!--// END LOGO, HEADER AND NAV //-->
        <div class="container-maincontent" style="padding: 0px;">
            <div class="row" style="padding-top: 10px; padding-bottom: 20px;">
                <h1 class="text-hide">
                    Account Details</h1>
                <div class="col-sm-1">
                </div>
                <div class="col-sm-10">
                    <!--// START ACCOUNT DETAILS CONTENT //-->
                    <div class="row" style="background-color: white; padding: 5px;">
                        <!--// START NO SCRIPT CHECK //-->
                        <noscript>
                            <style type="text/css">
                                .content
                                {
                                    display: none;
                                }
                            </style>
                            <div class="container">
                                <div class="row" style="background-color: white; padding: 5px;">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <h3 class="text-primary">
                                                Javascript Disabled</h3>
                                            <hr />
                                            <br />
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-6">
                                            <div id="pnlJSMessage" class="alert alert-danger alert-sm">
                                                <div id="imgStatusMsgIcon" class="fa fa-exclamation-circle fa-2x status-msg-icon">
                                                </div>
                                                <div id="txtStatusMsg" class="status-msg-text">
                                                    Javascript must be enabled in order for this site to work correctly.</div>
                                            </div>
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </noscript>
                        <!--// END NO SCRIPT CHECK //-->
                        <div class="content">
                            <!--// START BREADCRUMBS //-->
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-11" id="brdCrumb">
                                    </div>
                                    <!--Cart-->
                                    <div class="col-md-1">
                                        <a href="#" onclick="bill2payAccountDetails.showgridFromCart();">
                                            <div id="cartDiv" class="caption img-responsive pull-right" style="min-width: 30px;
                                                max-width: 35px; min-height: 30px; max-height: 35px;">
                                                <span id="cartCount" style="font-size: 14px; line-height: 16px; font-family: arial,sans-serif;
                                                    color: #000000; font-weight: 700;"></span>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <!--// END BREADCRUMBS //-->
                                <div id="divAccountDetails1" style="display: none;">
                                    <div class="col-xs-12 col-sm-6">
                                        <br>
                                        <div id="pnlProducts">
                                            <div class="row">
                                                <div class="col-xs-12">
                                                    <div class="form-group form-group-sm">
                                                        <label class="control-label" for="ddlBankAccountType">
                                                            Select Items</label>
                                                        <select name="ddlCategories" onchange="changeAccountLabel();" id="ddlCategories"
                                                            class="form-control input-sm">
                                                            <option selected="selected" value="Test & Name">Test & Name</option>
                                                            <option value="Utility Payment">Utility Payment</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <input type="hidden" name="hdAccount1" id="hdAccount1" value="required">
                                                <input type="hidden" name="hdAccount2" id="hdAccount2" value="required">
                                                <input type="hidden" name="hdAccount3" id="hdAccount3" value="required">
                                                <input type="hidden" name="hdPropAmount" id="hdPropAmount" value="required">
                                                <div class="form-group form-group-sm">
                                                    <div id="pnlAccount1">
                                                        <label class="control-label" for="txtLookupAccount1" id="lblLookupAccount1">
                                                            <span id="lblAccountNumber1">Numbers Before Dash</span>
                                                        </label>
                                                        <input name="txtLookupAccount1" type="text" maxlength="6" id="txtLookupAccount1"
                                                            class="form-control input-sm" onkeypress="return restrictInput(event, restrictionTypes.NumbersOnly)"
                                                            onpaste="return reformatInput(this, restrictionTypes.NumbersOnly)">
                                                    </div>
                                                </div>
                                                <div class="form-group form-group-sm">
                                                    <div id="pnlAccount2">
                                                        <label class="control-label" for="txtLookupAccount2" id="lblLookupAccount2">
                                                            <span id="lblAccountNumber2">Numbers After Dash</span>
                                                        </label>
                                                        <input name="txtLookupAccount2" maxlength="6" id="txtLookupAccount2" class="form-control input-sm"
                                                            onkeypress="return restrictInput(event, restrictionTypes.NumbersOnly)" onpaste="return reformatInput(this, restrictionTypes.NumbersOnly)">
                                                    </div>
                                                </div>
                                                <div class="form-group form-group-sm" style="display: none;">
                                                    <div id="pnlAccount3">
                                                        <label class="control-label" for="txtLookupAccount3" id="lblLookupAccount3">
                                                            <span id="lblAccountNumber3"></span>
                                                        </label>
                                                        <input name="txtLookupAccount3" type="text" maxlength="40" id="txtLookupAccount3"
                                                            class="form-control input-sm" onkeypress="return restrictInput(event, restrictionTypes.AlphaNumericAndExtraChars)"
                                                            onpaste="return reformatInput(this, restrictionTypes.AlphaNumericAndExtraChars)">
                                                    </div>
                                                </div>
                                                <!--Property address-->
                                                <div id="lookUpConfirmation" tabindex="-1" class="modal fade in" role="dialog" aria-label="Lookup Results"
                                                    aria-hidden="false" style="display: none;">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title">
                                                                    Lookup Results</h4>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div id="div3" role="alert" style="margin-top: 10px;" class="alert alert-success">
                                                                    <div class="fa fa-check-circle-o fa-2x status-msg-icon">
                                                                    </div>
                                                                    <div class="status-msg-text">
                                                                        <span id="Span1" class="control-label">Account found. Please see information below.</span></div>
                                                                </div>
                                                                <div>
                                                                    <table class="gvhspadding" cellspacing="5" id="grdLookup" style="border-style: None;">
                                                                        <tbody>
                                                                            <tr class="gvhspadding">
                                                                                <td>
                                                                                    Name
                                                                                </td>
                                                                                <td>
                                                                                    <span id="lookupName" name="lookupName"></span>
                                                                                </td>
                                                                            </tr>
                                                                            <tr class="gvhspadding">
                                                                                <td>
                                                                                    Address
                                                                                </td>
                                                                                <td>
                                                                                    <span id="lookupAddress" name="lookupAddress"></span>
                                                                                </td>
                                                                            </tr>
                                                                            <tr class="gvhspadding">
                                                                                <td>
                                                                                    Amount Due
                                                                                </td>
                                                                                <td>
                                                                                    <span id="lookupAmount" name="lookupAmount"></span>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <br>
                                                                <br>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <input type="button" name="btnClear" value="Cancel" onclick="bill2payAccountDetails.clear(); toggleLookUp(0);"
                                                                    id="Button1" title="Cancel" class="btn btn-link btn-sm" data-dismiss="modal" />
                                                                <input type="button" name="btnLookupGo" value="Confirm and Continue" onclick="toggleLookUp(2);"
                                                                    id="Button2" title="Confirm and Continue" class="btn btn-sm btn-primary btn-sm"
                                                                    data-dismiss="modal" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--End-->
                                                <br>
                                                <div class="pull-right">
                                                </div>
                                            </div>
                                        </div>
                                        <input type="button" name="btnSubmit" value="Lookup" onclick="return validateForm();"
                                            id="btnSubmit" title="Lookup" class="btn btn-primary btn-sm pull-right" />
                                        <br />
                                        <br />
                                    </div>
                                    <div class="col-xs-12 col-sm-6">
                                        <br>
                                        <p class="caption">
                                            <span id="lblClientMessage" title="Client Message"><span style="text-align: left;
                                                widows: 2; text-transform: none; background-color: rgb(255,255,255); text-indent: 0px;
                                                letter-spacing: normal; display: inline !important; font: small Arial, Helvetica, sans-serif;
                                                white-space: normal; orphans: 2; float: none; color: rgb(0,0,0); word-spacing: 0px;
                                                -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><span style="font-family: Times New Roman">
                                                    <span style="text-align: left; widows: 2; text-transform: none; background-color: rgb(255,255,255);
                                                        text-indent: 0px; letter-spacing: normal; display: inline !important; font: small Arial, Helvetica, sans-serif;
                                                        white-space: normal; orphans: 2; float: none; color: rgb(0,0,0); word-spacing: 0px;
                                                        -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Welcome to the Tax
                                                        Collector Payment Site</span></span></span></p>
                                    </div>
                                </div>
                                <div id="divAccountDetails2" style="display: block;">
                                    <table class="table" style="width: 100%;">
                                        <tr>
                                            <td width="65%" id="tdDisplayCartMsg" class="table-row-bold" style="border-collapse: !important;"
                                                align="right">
                                                <span id="cartProduct"></span>&nbsp;Added to Cart
                                            </td>
                                            <td width="35%" class="submenu-caption" style="border-collapse: !important;" align="right">
                                                Cart Subtotal (<span id="cartHeadingCount"></span>items): <span id="cartHeadingAmount">
                                                </span>
                                            </td>
                                        </tr>
                                    </table>
                                    <br />
                                    <div id="cartGrid">
                                    </div>
                                    <br />
                                    <div class="pull-right">                                        
                                        <input type="button" name="btnContinue" value="Continue" id="btnContinue" title="Continue"
                                            class="btn btn-primary" onclick="bill2payAccountDetails.submitToContactDetails();" /></div>
                                    <br />
                                    <br />
                                </div>
                                <div id="divAccountDetails3" style="display: none;">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <div class="form-group form-group-sm">
                                                    <div id="divSelectedItem">
                                                        <label class="control-label" for="spanSelectedItem" id="lblSelectedItem">
                                                            <span id="spanSelectedItemCaption">Selected Item</span>
                                                        </label>
                                                        <br />
                                                        <span id="spanSelectedItem" style="width: 30px;" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12">
                                                <div class="form-group form-group-sm">
                                                    <div id="divLookupAccount1Edit">
                                                        <label class="control-label" for="spanLookupAccount1" id="lblLookupAccount1Edit">
                                                            <span id="spanLookupAccount1Caption">Numbers Before Dash</span>
                                                        </label>
                                                        <br />
                                                        <span id="spanLookupAccount1" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12">
                                                <div class="form-group form-group-sm">
                                                    <div id="divLookupAccount2Edit">
                                                        <label class="control-label" for="spanLookupAccount2" id="lblLookupAccount2Edit">
                                                            <span id="spanLookupAccount2Caption">Numbers After Dash</span>
                                                        </label>
                                                        <br />
                                                        <span id="spanLookupAccount2" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12">
                                                <div class="form-group form-group-sm">
                                                    <div id="div2">
                                                        <label class="control-label" for="txtAmountEdit" id="lblAmountEdit">
                                                            <span id="spanAmountCaption">Amount</span>
                                                        </label>
                                                        <input name="txtAmountEdit" type="text" maxlength="40" id="txtAmountEdit" class="form-control input-sm"
                                                            onkeypress="return isNumberKey(event);" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <input type="hidden" name="hidUpdateItemAmount" id="hidUpdateItemAmount" value="required">
                                        <div class="pull-right">
                                            <input type="button" name="btnUpdate" value="Update Cart" onclick="return updateCartItem();"
                                                id="btnUpdate" title="Update Cart" class="btn btn-primary " />
                                            <input type="button" name="btnContinue" value="Continue" onclick="bill2payAccountDetails.submitToContactDetails();"
                                                id="btnContinue" title="Continue" class="btn btn-primary " />
                                        </div>
                                        <br />
                                    </div>
                                    <br />
                                    <br />
                                </div>
                                <!--Yes/No confirmation-->
                                <div id="myModal" class="modal fade" role="dialog">
                                    <div class="modal-dialog">
                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">
                                                    &times;</button>
                                                <h4 class="modal-title">
                                                    Confirm Item delete.</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div id="div1" role="alert" style="margin-top: 10px;" class="alert alert-success">
                                                    <div class="status-msg-text">
                                                        <span class="control-label">Are you sure you want to delete this item?</span></div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" id="btnYes" name="btnYes" onclick="bill2payAccountDetails.removeItemsFromCart();"
                                                    class="btn btn-primary" title="Yes" class="btn btn-default" data-dismiss="modal">
                                                    Yes</button>
                                                <button type="button" id="btnNo" name="btnNo" class="btn btn-primary" title="No"
                                                    class="btn btn-default" data-dismiss="modal">
                                                    No</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--End-->
                                <!--  -->
                                <!--  -->
                            </div>
                        </div>
                    </div>
                    <!--// END ACCOUNT DETAILS CONTENT //-->
                </div>
                <div class="col-sm-1">
                </div>
            </div>
            <!--// START MENU FOOTER CONTENT //-->
            <footer class="container">
               <div class="row">
                  <div class="col-xs-12 menu-footer">
                     <div class="col-sm-6">
                        <a href="http://www.coj.net/departments/tax-collector.aspx" target="_blank">Duval County Tax Collector</a>           
                     </div>
                     <div class="col-sm-6">      
                        <a href="http://www.bill2pay.com/" target="_blank">www.Bill2Pay.com</a>
                     </div>
                  </div>
               </div>
            </footer>
            <!--// END MENU FOOTER CONTENT //-->
            <!--// START FOOTER CONTENT //-->
            <footer class="container">
               <div class="row">
                  <div class="col-xs-12 footer">
                     <p>
                        © 2016 <a href="http://www.bill2pay.com/" target="_blank">BILL2PAY</a> LLC, ALL RIGHTS RESERVED. POWERED BY STREAM.
                     </p>
                  </div>
               </div>
            </footer>
            <!--// END FOOTER CONTENT //-->
            <!-- START LOOKUP MODAL DIALOG -->
            <div id="pnlLookupResults" tabindex="-1" class="modal fade" role="dialog" aria-label="Lookup Results"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">
                                Lookup Results</h4>
                        </div>
                        <div class="modal-body">
                            <div id="divLookupAlert" role="alert" style="margin-top: 10px;">
                                <div class="fa fa-check-circle-o fa-2x status-msg-icon">
                                </div>
                                <div class="status-msg-text">
                                    <span id="lblLookupHeader" class="control-label"></span>
                                </div>
                            </div>
                            <div>
                            </div>
                            <br>
                            <br>
                        </div>
                        <div class="modal-footer">
                            <input type="button" name="btnClear" value="Cancel" onclick="javascript:__doPostBack(&#39;btnClear&#39;,&#39;&#39;)"
                                id="btnClear" title="Cancel" class="btn btn-link btn-sm" data-dismiss="modal">
                            <input type="button" name="btnLookupGo" value="Confirm and Continue" onclick="javascript:__doPostBack(&#39;btnLookupGo&#39;,&#39;&#39;)"
                                id="btnLookupGo" title="Confirm and Continue" class="btn btn-sm btn-primary btn-sm"
                                data-dismiss="modal">
                        </div>
                    </div>
                </div>
            </div>
            <!-- END LOOKUP MODAL DIALOG -->
            <!-- START LOOKUP ERROR MODAL DIALOG -->
            <div id="pnlLookupError" tabindex="-1" class="modal fade" role="dialog" aria-label="Lookup Results"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">
                                Lookup Results</h4>
                        </div>
                        <div class="modal-body">
                            <div id="divLookupAlertError" role="alert" style="margin-top: 10px;">
                                <div class="fa fa-exclamation-circle fa-2x status-msg-icon">
                                </div>
                                <div class="status-msg-text">
                                    <span id="lblLookupHeaderError" class="control-label"></span>
                                </div>
                            </div>
                            <br>
                        </div>
                        <div class="modal-footer">
                            <input type="button" onclick="bill2payProducts.addProducts();" name="btnCloseLookupErrorDialog"
                                value="Close" id="btnCloseLookupErrorDialog" title="Close" class="btn btn-sm btn-primary btn-sm"
                                data-dismiss="modal">
                        </div>
                    </div>
                </div>
            </div>
            <input type="hidden" id="selectedIndex">
            <!-- END LOOKUP ERROR MODAL DIALOG -->
            <!-- JavaScript -->
            <script src="./content/scripts/jquery-1.11.1.min.js"></script>
            <script src="./content/scripts/bootstrap.min.js"></script>
            <!--[if lt IE 9]><script src="/Js/B2P.Enums.IE8.js"></script><![endif]-->
            <!--[if (gte IE 9)|!(IE)]><!-->
            <script src="./content/scripts/B2P.Enums.js"></script>
            <!--<![endif]-->
            <script src="./content/scripts/B2P.Utility.js"></script>
            <script src="./content/scripts/B2P.FormValidator.js"></script>
            <script src="./content/scripts/B2P.ValidationType.js"></script>
            <!--Custom JS-->
            <script src="./content/scripts/custom/Objects.js"></script>
            <script src="./content/scripts/custom/Settings.js"></script>
            <script src="./content/scripts/custom/Products.js"></script>
            <script src="./content/scripts/custom/AccountDetails.js"></script>
            <script type="text/javascript">
                function validateForm() {
                    var doc = document;
                    var item = new ValidationItem();

                    // Create instance of the form validator
                    var validator = new FormValidator();
                    validator.setErrorMessageHeader("Please review the following errors and resubmit the form:\n\n")
                    validator.setInvalidCssClass("has-error");
                    validator.setAlertBoxStatus(false);

                    // Add validation items to validator

                    // Check to see if account 1 is present
                    acct1 = doc.getElementById('hdAccount1').value;
                    if (acct1 !== '') {
                        // Set the validator
                        validator.addValidationItem(new ValidationItem("txtLookupAccount1", fieldTypes.NonEmptyField, true, "Required."));
                    }

                    // Check to see if account 2 is required
                    acct2 = doc.getElementById('hdAccount2').value;
                    if (acct2 !== '') {
                        // Set the validator
                        validator.addValidationItem(new ValidationItem("txtLookupAccount2", fieldTypes.NonEmptyField, true, "Required."));
                    }


                    var state = validator.validate();
                    debugger;
                    if (state) {

                        toggleLookUp(1);

                    }

                    return state;
                }

                function toggleLookUp(j) {
                    var y = document.getElementById("lookUpConfirmation");
                    var z = document.getElementById("divAccountDetails2");
                    var x = document.getElementById("divAccountDetails1");
                    var w = document.getElementById("divAccountDetails3");

                    if (j == 1) {
                        if (y != null) {
                            var prod = bill2payProducts.getProducts();
                            y.style.display = "block";
                            setLookUpValue(prod);
                        }
                    }
                    else if (j == 0) {
                        if (y != null) {
                            y.style.display = "none";
                        }
                    }
                    else if (j == 2) {

                        if (bill2payAccountDetails.validateDuplicateItem()) {
                            bill2payAccountDetails.submit();
                            if (z != null) {
                                z.style.display = "block";
                            }
                            if (x != null) {
                                x.style.display = "none";
                            }
                            if (y != null) {
                                y.style.display = "none";
                            }
                        }
                        else {
                            alert('Duplicate item added!');
                        }

                    }
                    else if (j == 3) {
                        if (z != null) {
                            z.style.display = "none";
                        }
                        if (x != null) {
                            x.style.display = "none";
                        }
                        if (y != null) {
                            y.style.display = "none";
                        }
                        if (w != null) {
                            w.style.display = "block";
                        }
                    }
                    else if (j == 4) {

                        if (z != null) {
                            z.style.display = "block";
                        }
                        if (x != null) {
                            x.style.display = "none";
                        }
                        if (y != null) {
                            y.style.display = "none";
                        }
                        if (w != null) {
                            w.style.display = "none";
                        }
                        bill2payAccountDetails.populateGrid();
                    }
                }

                function addMoreItems() {
                    var x = document.getElementById("divAccountDetails2");
                    if (x != null) {
                        x.style.display = "none";
                    }
                    var y = document.getElementById("divAccountDetails1");
                    if (y != null) {
                        y.style.display = "block";
                    }
                    var z = document.getElementById("lookUpConfirmation");
                    if (z != null) {
                        z.style.display = "none";
                    }
                }
                function removeItems(j) {
                    $('#selectedIndex').val(j);
                    $('#myModal').modal();
                }
                function editItems(j) {
                    toggleLookUp(3);

                    document.getElementById("hidUpdateItemAmount").value = j;

                    for (var i = 0; i < dbObject.Products.length; i++) {
                        var amount = 0;

                        if (i == j) {
                            if (dbObject.Products[i].Amount != null) {
                                if (isNaN(parseFloat(dbObject.Products[i].Amount))) {
                                    amount = getValueFromJson(dbObject.Products[i].Amount);
                                }
                                else
                                    amount = dbObject.Products[i].Amount;

                            }
                            if (dbObject.Products[i].ProductName.toUpperCase() == "TEST & NAME") {

                                $("#spanSelectedItem").text(dbObject.Products[i].ProductName);
                                $("#spanLookupAccount1").text(getValueFromJson(dbObject.Products[i].ACC1));
                                $("#spanLookupAccount2").text(getValueFromJson(dbObject.Products[i].ACC2));
                                $("#txtAmountEdit").val(parseFloat(amount).toFixed(2));

                                $("#spanLookupAccount1Caption").text("Numbers Before Dash");
                                $("#spanLookupAccount2Caption").text("Numbers After Dash");

                            }
                            else {

                                $("#spanSelectedItem").text(dbObject.Products[i].ProductName);
                                $("#spanLookupAccount1").text(getValueFromJson(dbObject.Products[i].ACC1));
                                $("#spanLookupAccount2").text(getValueFromJson(dbObject.Products[i].ACC2));
                                $("#txtAmountEdit").val(parseFloat(amount).toFixed(2));

                                $("#spanLookupAccount1Caption").text("Account1");
                                $("#spanLookupAccount2Caption").text("Account2");

                            }
                        }
                    }
                }

                function changeAccountLabel() {
                    if ($("#ddlCategories").val().toUpperCase() == "TEST & NAME") {
                        $("#lblAccountNumber1").text('Numbers Before Dash');
                        $("#lblAccountNumber2").text('Numbers After Dash');
                    }
                    else {
                        $("#lblAccountNumber1").text('Account1');
                        $("#lblAccountNumber2").text('Account2');
                    }
                    bill2payAccountDetails.clear();
                }

                function setLookUpValue(prod) {
                    if (prod != null) {
                        if (getValueFromJson(prod.ProductName).toString().toUpperCase() == "TEST & NAME") {
                            $("#spanSelectedItem").text(getValueFromJson(prod.Name));
                            $("#lookupAddress").text(getValueFromJson(prod.Address1));
                            $("#lookupAmount").text(getValueFromJson(prod.Amount));
                        }
                        else {
                            $("#lookupName").text(getValueFromJson(prod.Name));
                            $("#lookupAddress").text(getValueFromJson(prod.Address1));
                            $("#lookupAmount").text(getValueFromJson(prod.Amount));
                        }
                    }
                }
                function getAmount(itemIndex) {
                    var amount = 0;
                    if (dbObject.Products[itemIndex].Amount != null) {
                        if (isNaN(parseFloat(dbObject.Products[itemIndex].Amount))) {
                            amount = getValueFromJson(dbObject.Products[itemIndex].Amount);
                        }
                        else
                            amount = dbObject.Products[itemIndex].Amount;

                    }
                    return amount;
                }

                function updateCartItem() {
                    debugger;
                    var index = document.getElementById("hidUpdateItemAmount").value;

                    var doc = document;
                    var item = new ValidationItem();

                    // Create instance of the form validator
                    var validator = new FormValidator();
                    validator.setErrorMessageHeader("Please review the following errors and resubmit the form:\n\n")
                    validator.setInvalidCssClass("has-error");
                    validator.setAlertBoxStatus(false);
                    if (parseFloat($("#txtAmountEdit").val()) > parseFloat(getAmount(index))) {
                        // Set the validator
                        validator.addValidationItem(new ValidationItem("txtAmountEdit", fieldTypes.AmountDue, true, "Invalid Amount"));
                        $("#txtAmountEdit").val(getAmount(index));
                        return validator.validate();
                    }

                    //products[index].AmountDue = parseFloat(dbObject.Products[index].Amount.AMOUNT) - parseFloat($("#txtAmountEdit").val());
                    var amountDue = parseFloat(dbObject.Products[index].Amount.AMOUNT) - parseFloat($("#txtAmountEdit").val());
                    products[index].AmountPaid = parseFloat(dbObject.Products[index].Amount.AMOUNT) - amountDue;
                    UpdateDbObject();
                    toggleLookUp(4);
                }


                $(document).ready(function () {
                    debugger;
                    bill2payProducts.addProducts();
                    bill2payAccountDetails.populateGrid();
                    bill2payAccountDetails.showCart();
                });    
            </script>
        </div>
    </form>
</body>
</html>
