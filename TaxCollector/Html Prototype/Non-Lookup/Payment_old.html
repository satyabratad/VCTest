<!DOCTYPE html>
<html lang="en">  
<head id="docHead">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duval County Tax Collector </title>
    <!-- CSS -->
    <link rel="stylesheet" href="./content/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="./content/css/font-awesome.min.css">
    <link id="lnkCSS" rel="stylesheet" href="./content/css/app.css" type="text/css">
    <link rel="stylesheet" href="./content/css/progress.css" type="text/css">
    <link rel="stylesheet" href="./content/css/custom.css" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
    <!-- JavaScript -->
    <!--[if lt IE 9]>
      <script src="/Js/html5shiv.min.js"></script>
      <script src="/Js/respond.min.js"></script>
      <![endif]-->
</head>
<body>

    

        <div class="container" style="max-width:970px;">
            <div class="row">
                <div class="col-xs-12 header" style="padding:0px;">
                    <img id="imgClientLogo" alt="Client Logo" title="The Client Logo" class="img-responsive" onerror="this.src=&#39;img/B2P-Logo4.png&#39;;" src="./content/images/B2P-Logo4.png" />
                </div>
            </div>
            <div class="container-maincontent" style="padding: 0px;">
                <div class="row" style="padding-top: 10px; padding-bottom: 20px;">
                    <h1 class="text-hide">
                        Payment Details
                    </h1>
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-10">
                                <!--// START MIDDLE CONTENT //-->

                                <div class="row" style="background-color:white; padding: 5px;">

                                    <!--// START NO SCRIPT CHECK //-->
                                    <noscript>
                                        <style type="text/css">
                                            .content {display:none;}
                                        </style>
                                        <div class="container">
                                            <div class="row" style="background-color:white; padding:5px;">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <h3 class="text-primary">Javascript Disabled</h3>
                                                        <hr />
                                                        <br />
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-6">
                                                        <div id="pnlJSMessage" class="alert alert-danger alert-sm">

                                                            <div id="imgStatusMsgIcon" class="fa fa-exclamation-circle fa-2x status-msg-icon"></div>
                                                            <div id="txtStatusMsg" class="status-msg-text">Javascript must be enabled in order for this site to work correctly.</div>

                                                        </div>

                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <br />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </noscript>
                                    <!--// END NO SCRIPT CHECK //-->


                                    <div class="content">
                                        <div class="container" 
                                            <!--// START BREADCRUMBS //-->
                                                <div class="row">
                                                    <div class="col-md-11">
                                                        <ul class="breadcrumb">
                                                            <li class="active">
                                                                <a href="Home.html">
                                                                    <span class="badge  badge-inverse">
                                                                        1
                                                                    </span> Account <span class="hidden-xs hidden-sm">Details</span>
                                                                </a>
                                                            </li>
                                                            <li class="active">
                                                                <a href="ContactInfo.html" >
                                                                    <span class="badge  badge-inverse">
                                                                        2
                                                                    </span><span class="hidden-xs hidden-sm"> Contact Info</span>
                                                                </a>
                                                            </li>
                                                            <li class="active">
                                                                <a href="https://betapay.bill2pay.com/pay/" class="inactiveLink">
                                                                    <span class="badge badge-inverse">
                                                                        3
                                                                    </span><span class="hidden-xs hidden-sm"> Payment Details</span>
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a href="https://betapay.bill2pay.com/pay/#" class="inactiveLink">
                                                                    <span class="badge">
                                                                        4
                                                                    </span><span class="hidden-xs hidden-sm"> Confirm Payment</span>
                                                                </a>
                                                            </li>

                                                        </ul>
                                                    </div>
                                                        <!--Cart-->
                                                        <div class="col-md-1">
                                                            <a href="#" onclick="bill2payPaymentDetails.redirectToCartGrid();">
                                     <div id="cartDiv" class="caption img-responsive pull-right" style="min-width:30px; max-width: 35px;min-height:30px; max-height: 35px;">
                                     	<span id="cartCount"></span>
                                     </div>     
                                     </a>   
                                                        </div>
                                                   
                                                </div>
                                            

                                            <!--// END BREADCRUMBS //-->


                                            <div class="row">
                                                <div class="col-xs-12 col-sm-6 col-sm-push-6">

                                                    <div id="pnlOrderDetails">

                                                        <br />
                                                        <p><strong>Order Details</strong></p>
                                                        <hr />
                                                        
                                                    </div>
                                                    <div class="hidden-xs"><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></div>


                                                </div>


                                                <div class="col-xs-12 col-sm-6 col-sm-pull-6">

                                                    <br />

                                                    <div id="dvPaysubTotal">
                                                        <table id="tblPaymentInfo" class="table table-condensed table-no-border">
                                                            <div class="col-xs-12 bg-primarydark">
                                                                <tr class="bg-primarydark">
                                                                    <td class="col-sm-6 text-uppercase"><label id="paysubTotal">Subtotal </label> </td>
                                                                    <td style="text-align:right"><label id="paysubTotalAmount"></label> </td>
                                                                </tr>
                                                            </div>
                                                        </table>
                                                    </div>

                                                </div>





                                                <div class="col-xs-12 col-sm-6 col-sm-pull-6">

                                                    <div id="pnlFormContents" role="form">
                                                        <br />
                                                        <strong>Select Payment Method</strong>
                                                        <input type="submit" name="btnFees" value="Convenience fees may apply" id="btnFees" title="Convenience fees may apply" class="btn btn-link btn-sm" />



                                                        <ul id="paymentTabs" class="nav  nav-tabs" role="tablist">
                                                            <li id="tabCredit">
                                                                <a href="#pnlTabCredit" onclick="clearValidationItems('ACH');" role="tab" data-toggle="tab">
                                                                    <span class="fa fa-credit-card" title="Credit Card"></span> Credit Card
                                                                </a>
                                                            </li>

                                                            <li id="tabAch">
                                                                <a href="#pnlTabAch" onclick="clearValidationItems('CC')" role="tab" data-toggle="tab">
                                                                    <span class="fa fa-bank" title="eCheck"></span> Bank Account
                                                                </a>
                                                            </li>
                                                        </ul>

                                                        <div class="tab-content">
                                                            <br />
                                                            <div id="pnlTabCredit" class="tab-pane">

                                                                <div class="form-group form-group-sm">
                                                                    <label class="control-label" for="txtNameonCard">Name on Card:</label>
                                                                    <input name="txtNameonCard" type="text" maxlength="60" id="txtNameonCard" class="form-control input-sm" placeholder="Name on Card" onkeypress="return restrictInput(event, restrictionTypes.AlphaNumericAndExtraChars)" onpaste="return reformatInput(this, restrictionTypes.AlphaNumericAndExtraChars)" />
                                                                </div>

                                                                <div class="form-group form-group-sm">
                                                                    <label class="control-label" for="txtCreditCardNumber">Credit Card Number:<img id="imgVisa" src="./content/images/visa_small.png" title="Visa" alt="Visa" /> <img id="imgMasterCard" src="./content/images/mastercard_small.png" title="MasterCard" alt="MasterCard" /> <img id="imgDiscover" src="./content/images/discover_small.png" title="Discover" alt="Discover" /></label>
                                                                    <input name="txtCreditCardNumber" maxlength="20" id="txtCreditCardNumber" class="form-control input-sm txtCreditCardNumber card-image" type="tel" placeholder="Credit Card Number" autocomplete="off" />
                                                                </div>

                                                                <div class="row">
                                                                    <div class="col-xs-12 col-sm-8">
                                                                        <div class="form-group form-group-sm">
                                                                            <label class="control-label" for="txtExpireDate">Expiration Date:</label>
                                                                            <input name="txtExpireDate" maxlength="7" id="txtExpireDate" class="form-control input-sm txtExpireDate" type="tel" placeholder="MM / YY" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-12 col-sm-4">
                                                                        <div class="form-group form-group-sm">
                                                                            <label class="control-label" for="txtCCV">CVV: <a href="#" data-toggle="modal" data-target="#ccInfoModal" data-backdrop="static" data-keyboard="false" title="CVV Info" tabindex="-1">?</a></label>
                                                                            <input name="txtCCV" maxlength="4" id="txtCCV" class="form-control input-sm txtCCV cvv" type="tel" placeholder="CVV" autocomplete="off" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-xs-12 col-sm-8">
                                                                        <div class="form-group form-group-sm">
                                                                            <label class="control-label" for="txtCountry" id="lblCountry">
                                                                                <span id="lblCountry">Country</span>
                                                                            </label>
                                                                            <select id="ddlCountry" name="ddlCountry" class="form-control input-sm">
                                                                                <option selected="selected" value="">--Select Country--</option>
                                                                                <option value="USA">United States Of America</option>
                                                                                <option value="CA">Canada</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-12 col-sm-4">
                                                                        <div class="form-group form-group-sm">
                                                                            <label class="control-label" for="txtZip">Billing Zip: </label>
                                                                            <input name="txtBillingZip" maxlength="4" id="txtBillingZip" class="form-control input-sm " type="tel" placeholder="Billing Zip" autocomplete="off" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <div class="pull-right">
                                                                    <input type="button" onclick="bill2payPaymentDetails.redirectToCartGrid();" name="btnCancelCredit" value="Cancel" id="btnCancelCredit" title="Cancel" class="btn btn-link btn-sm" />
                                                                    <input type="button" onclick="bill2payPaymentDetails.addMoreItems();" name="btnAddMore" value="Add More Items" id="btnAddMore" title="Add More Items" class="btn btn-primary btn-sm" />
                                                                    <input type="submit" name="btnSubmitCredit" value="Continue" onclick="bill2payPaymentDetails.redirectToPaymentConfirm();" id="btnSubmitCredit" title="Continue" class="btn btn-primary btn-sm" />
                                                                    <br />
                                                                </div>

                                                            </div>
                                                            <div id="pnlTabAch" class="tab-pane">

                                                                <br />




                                                                <div class="form-group form-group-sm">
                                                                    <label class="control-label" for="txtNameonBankAccount">Name on Bank Account:</label>
                                                                    <input name="pbaEnterBankAccountInfo$txtNameonBankAccount" type="text" maxlength="60" id="txtNameonBankAccount" class="form-control input-sm" placeholder="Name on Bank Account" onkeypress="return restrictInput(event, restrictionTypes.AlphaNumericAndExtraChars)" onpaste="return reformatInput(this, restrictionTypes.AlphaNumericAndExtraChars)" />
                                                                </div>

                                                                <div class="form-group form-group-sm">
                                                                    <label class="control-label" for="ddlBankAccountType">Account Type:</label>
                                                                    <select name="pbaEnterBankAccountInfo$ddlBankAccountType" onchange="javascript:setTimeout(&#39;__doPostBack(\&#39;pbaEnterBankAccountInfo$ddlBankAccountType\&#39;,\&#39;\&#39;)&#39;, 0)" id="ddlBankAccountType" class="form-control input-sm">
                                                                        <option selected="selected" value="">Select an option...</option>
                                                                        <option value="Checking">Personal Checking</option>
                                                                        <option value="Savings">Personal Savings</option>
                                                                        <option value="CommChecking">Commercial Checking</option>
                                                                        <option value="CommSavings">Commercial Savings</option>

                                                                    </select>
                                                                </div>

                                                                <div class="form-group form-group-sm">
                                                                    <label class="control-label" for="txtBankRoutingNumber">
                                                                        Routing Number:
                                                                        <a href="#" data-toggle="modal" data-target="#achInfoModal" data-backdrop="static" data-keyboard="false" title="Routing Number Info" tabindex="-1">?</a>
                                                                    </label>
                                                                    <input name="pbaEnterBankAccountInfo$txtBankRoutingNumber" maxlength="9" id="txtBankRoutingNumber" class="form-control input-sm" type="tel" placeholder="Routing Number" autocomplete="off" onkeypress="return restrictInput(event, restrictionTypes.NumbersOnly)" onpaste="return reformatInput(this, restrictionTypes.NumbersOnly)" />
                                                                </div>

                                                                <div class="form-group form-group-sm">
                                                                    <label class="control-label" for="txtBankAccountNumber">
                                                                        Account Number:
                                                                        <a href="#" data-toggle="modal" data-target="#achInfoModal" data-backdrop="static" data-keyboard="false" title="Account Number Info" tabindex="-1">?</a>
                                                                    </label>
                                                                    <input name="pbaEnterBankAccountInfo$txtBankAccountNumber" maxlength="17" id="txtBankAccountNumber" class="form-control input-sm" type="tel" placeholder="Account Number" autocomplete="off" onkeypress="return restrictInput(event, restrictionTypes.NumbersOnly)" onpaste="return reformatInput(this, restrictionTypes.NumbersOnly)" />
                                                                </div>


                                                                <br />
                                                                <div class="pull-right">
                                                                    <input type="submit" name="btnCancelAch" value="Cancel" id="btnCancelAch" title="Cancel" class="btn btn-link btn-sm" />
                                                                    <input type="button"  onclick="bill2payPaymentDetails.addMoreItems();" name="btnAddMore" value="Add More Items" id="btnAddMore" title="Add More Items" class="btn btn-primary btn-sm" />
                                                                    <input type="submit" name="btnSubmitAch" value="Continue" onclick="bill2payPaymentDetails.redirectToPaymentConfirm();" id="btnSubmitAch" title="Continue" class="btn btn-primary btn-sm" />
                                                                    <br />
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>

                                        <!--// START SECURITY METRICS LOGO //-->
                                        <div class="col-xs-12 col-md-12 text-right" style="padding-right:10px;">
                                            <div class="col-xs-8"></div>
                                            <div class="col-xs-6 col-md-2">
                                                <br />
                                                <a href="//www.securitymetrics.com/site_certificate?id=1370759&tk=1f229bcbe3cc16af6c9291efbee0fae5" target="_blank">
                                                    <img src="https://www.securitymetrics.com/static/img/site_certified_logos/PCI_DSS_Validated_corporate.png" alt="SecurityMetrics Credit Card Safe" title="SecurityMetrics Credit Card Safe" class="img-responsive" />
                                                </a>
                                            </div>
                                            <div class="col-xs-6 col-md-2">
                                                <img src="./content/Images/vs-secure.jpg" alt="Visa Secure" title="Visa Secure" class="img-responsive" />
                                            </div>

                                        </div>

                                        <!--// END SECURITY METRICS LOGO //-->
                                    </div>
                                </div>
                            </div>

                            <!--// END MIDDLE CONTENT //-->

                        </div><br /><br />
                    </div>
                    <!--// START FOOTER CONTENT //-->

                    <div class="col-sm-1">
                    </div>
                </div>
        


            <div class="footer">
                <div class="container">

                    <div class="row rowheight" style="background-color: #195575;">
                        <div class="col-xs-12 col-sm-12 text-center">
                            <div class="col-sm-6">
                                <a href=http://www.melbourneflorida.org/ target="_blank">City of Melbourne</a>
                            </div>

                            <div class="col-sm-6">
                                <a href=http://www.bill2pay.com target="_blank">www.Bill2Pay.com</a>
                            </div>
                        </div>

                    </div>

                    <div class="row rowheight" style="background-color: #0e3042;">
                        <div class="col-xs-12 col-sm-12 text-center">
                            &copy; 2017 <a href="http://www.bill2pay.com" target="_blank">BILL2PAY</a> LLC, ALL RIGHTS RESERVED. POWERED BY STREAM.
                        </div>
                    </div>
                </div>
            </div>

            <!--// END FOOTER CONTENT //-->
            <!-- START PAYMENT AMOUNT MODAL DIALOG -->
            <div class="modal fade" id="amtInfoModal" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span aria-hidden="true">&times;</span></button>
                            <h4>
                                Payment Amount Information
                            </h4>
                        </div>

                        <div class="modal-body">
                            <div id="pnlBankAccountAmount">

                                <p class="text-primarydark"><strong>Bank Account Payments</strong></p>
                                <hr />
                                <p>

                                </p>
                                <br />

                            </div>
                            <div id="pnlCreditCardAmount">

                                <p class="text-primarydark"><strong>Card Payments</strong></p>
                                <hr />
                                <p>

                                </p>

                            </div>

                        </div>

                        <div class="modal-footer">
                            <input type="submit" name="Button2" value="Close" id="Button2" class="btn btn-primary btn-sm" data-dismiss="modal" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- END PAYMENT AMOUNT MODAL DIALOG -->
            <!-- START CVV MODAL DIALOG -->
            <div class="modal fade" id="ccInfoModal" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span aria-hidden="true">&times;</span></button>
                            <h4>
                                Credit Card Security Codes
                            </h4>
                        </div>

                        <div class="modal-body">
                            <p>
                                The CVV Number (Card Verification Value) is a 3 digit code on VISA, MasterCard and Discover branded credit and debit cards or a 4 digit code on American Express branded credit cards. <br /><br />They can be located by looking on your card, as illustrated below:
                            </p>
                            <p>
                                <img id="imgCVV" class="img-responsive center-block" src="/img/cvv-code-image.jpg" title="" alt="CVV Help Image" />
                            </p>
                        </div>

                        <div class="modal-footer">
                            <input type="submit" name="btnCloseCreditModal" value="Close" id="btnCloseCreditModal" class="btn btn-primary btn-sm" data-dismiss="modal" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- END CVV MODAL DIALOG -->
            <!-- START CHECK HELP MODAL DIALOG -->
            <div class="modal fade" id="achInfoModal" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span aria-hidden="true">&times;</span></button>
                            <h4>
                                Check Image
                            </h4>
                        </div>

                        <div class="modal-body">
                            <p>
                                The routing and account numbers can be located by looking on your check, as illustrated below:
                            </p>
                            <p>
                                <img id="imgCheckHelp" class="img-responsive center-block" src="/img/bank_check.jpg" title="" alt="Routing and Bank Account Number Help" />
                            </p>
                        </div>

                        <div class="modal-footer">
                            <input type="submit" name="btnCloseCheckModal" value="Close" id="btnCloseCheckModal" class="btn btn-primary btn-sm" data-dismiss="modal" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- END CHECK HELP MODAL DIALOG -->
            <!-- START ACH FAILED VALIDATION MODAL DIALOG -->
            <div id="pnlAchInvalidModal" tabindex="-1" class="modal fade" role="dialog" aria-label="Invalid Bank Account Number" aria-hidden="true">

                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title"><span class="fa fa-question-circle"></span>&nbsp;&nbsp;Invalid bank account number</h4>
                        </div>
                        <div class="modal-body">

                            <br />
                            <br />
                        </div>
                        <div class="modal-footer">
                            <input type="submit" name="btnCloseFailedValidationModal" value="Close" id="btnCloseFailedValidationModal" title="Close" class="btn btn-sm btn-primary btn-sm" data-dismiss="modal" />
                        </div>
                    </div>
                </div>

            </div>
            <!-- END CONFIRM DELETE MODAL DIALOG -->
            <!-- START FEE DIALOG -->
            <div class="modal fade" id="feeInfoModal" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span aria-hidden="true">&times;</span></button>
                            <h4>
                                Convenience Fee Information
                            </h4>
                        </div>

                        <div class="modal-body">
                            <div id="pnlACHFee">

                                <p class="text-primarydark"><strong>Bank Account Payments</strong></p>
                                <hr />
                                <p>
                                    The ACH fee is $2.00 per transaction.
                                </p>
                                <br />

                            </div>
                            <div id="pnlCCFee">

                                <p class="text-primarydark"><strong>Card Payments</strong></p>
                                <hr />
                                <p>
                                    When paying by credit card, there is a minimum convenience fee of $2.50 or 2.75% of the payment amount.
                                </p>

                            </div>
                        </div>

                        <div class="modal-footer">
                            <input type="submit" name="Button1" value="Close" id="Button1" class="btn btn-primary btn-sm" data-dismiss="modal" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- END FEE MODAL DIALOG -->
            <!-- START PAYMENT WARNING MODAL DIALOG -->
            <div class="modal fade" id="msgModal" tabindex="-1" role="dialog" aria-label="Message" aria-hidden="true" data-backdrop="static">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header modal-header-danger">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span aria-hidden="true">&times;</span></button>
                            <h4>Important Message</h4>
                        </div>

                        <div class="modal-body">
                            <div class="form-group form-group-sm">
                                <span id="lblPaymentMsg"></span>
                            </div>
                        </div>

                        <div class="modal-footer modal-footer-danger">
                            <button type="button" class="btn btn-sm btn-confirm" title="OK" data-dismiss="modal">OK</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END PAYMENT WARNING MODAL DIALOG -->


            <input type="hidden" name="hdfCollapseState" id="hdfCollapseState" />
            <input type="hidden" name="hdfTabName" id="hdfTabName" value="pnlTabCredit" />

            <!-- JavaScript -->
        <script src="./content/scripts/jquery-1.11.1.min.js"></script>
        <script src="./content/scripts/bootstrap.min.js"></script>
        <!--[if lt IE 9]><script src="/Js/B2P.Enums.IE8.js"></script><![endif]-->
        <!--[if (gte IE 9)|!(IE)]><!-->
        <script src="./content/scripts/B2P.Enums.js"></script>
        <!--<![endif]-->
        <script src="./content/scripts/B2P.Utility.js"></script>
        <script src="./content/scripts/B2P.FormValidator.js"></script>
        <script src="./content/scripts/B2P.ValidationType.js"></script>
        <!--Custom JS-->
        <script src="./content/scripts/custom/Objects.js"></script>
        <script src="./content/scripts/custom/Settings.js"></script>
        <script src="./content/scripts/custom/Products.js"></script>
        <script src="./content/scripts/custom/AccountDetails.js"></script>
        <script src="./content/scripts/custom/ContactInfo.js"></script>
        <script src="./content/scripts/custom/BillingDetails.js"></script>
        <script src="./content/scripts/custom/PaymentDetails.js"></script>


            <script type="text/javascript">
				
				 $( document ).ready(function() {
  					bill2payPaymentDetails.showCart();
  					
				});   
				
   
        jQuery(function ($) {
        	debugger;
            var firstTab = $('a[data-toggle="tab"]:first');
            var tabName = null;

            // Get the last active tab before postback
            tabName = $("[id*=hdfTabName]").val() != "" ? $("[id*=hdfTabName]").val() : firstTab.attr("href").replace("#", "");

            $('#paymentTabs a[href="#' + tabName + '"]').tab('show');

            $("#paymentTabs a").click(function () {
                $("[id*=hdfTabName]").val($(this).attr("href").replace("#", ""));
            });

            // Use Swipe's payment formatters
            
	
				
			$("#txtCreditCardNumber").payment("formatCardNumber");
            $("#txtExpireDate").payment("formatCardExpiry");
            $("#txtCCV").payment("formatCardCVC");

        });

       

        function validateForm(paymentType) {

            
              var doc = document;
            var validCardPattern = /^(amex|discover|mastercard|visa)$/i; 
              var panel = doc.getElementById("pnlOtherAmount");
              var cardType = $.payment.cardType(doc.getElementById("txtCreditCardNumber").value);
              var item = new ValidationItem();
              
              
              // Create instance of the form validator
              var validator = new FormValidator();
              validator.setErrorMessageHeader("Please review the following errors and resubmit the form:\n\n")
              validator.setInvalidCssClass("has-error");
              validator.setAlertBoxStatus(false);

             // Add validation items to validator

              switch (paymentType) {

                  case "CC":

                     var ccMinMaxAmounts = '2.0000|100000.0000'; 
                      var cardType = $.payment.cardType(doc.getElementById("txtCreditCardNumber").value);
                      var currentYear = "20";
                      var cardMonth = doc.getElementById("txtExpireDate").value.split("/")[0];
                      var cardYear = currentYear.concat(doc.getElementById("txtExpireDate").value.split("/")[1]);
                      var cardYear = cardYear.replace(" ", "");
                      var cardMonth = cardMonth.replace(" ", "");
                     

                     validator.addValidationItem(new ValidationItem("txtNameonCard", fieldTypes.Name, true, "Name on card is empty or invalid."));

                      // Let the next three fields validate with Swipe's payment utility (jquery.payment.js)
                      // Set the objects up using JSON to set the fields
                      validator.addValidationItem(item = {
                          field: "txtCreditCardNumber",
                          styleParent: true,
                          errorMessage: "Not a valid credit card number or card type not accepted.",
                          isValid: ($.payment.validateCardNumber(doc.getElementById("txtCreditCardNumber").value) && validCardPattern.test(cardType))
                      });

                      validator.addValidationItem(item = {
                          

                            field: "txtExpireDate",
                            styleParent: true,
                            errorMessage: "Invalid expiration date.",
                            isValid: (!!/^\d{2} \/ \d{2}$/.test(doc.getElementById("txtExpireDate").value) &&
                                      $.payment.validateCardExpiry($.payment.cardExpiryVal(cardMonth.concat("/", cardYear))) &&
                                      cardYear <= new Date().getFullYear() + 10)
                        });

                      validator.addValidationItem(item = {
                          field: "txtCCV",
                          styleParent: true,
                          errorMessage: "Not a valid security code.",
                          isValid: ($.payment.validateCardCVC(doc.getElementById("txtCCV").value, cardType))
                      });

                     if (panel && doc.getElementById("rdAmount").checked) {
                         validator.addValidationItem(item = {
                             field: "txtAmount",
                             styleParent: true,
                             errorMessage: "Invalid amount",
                             isValid: (validatePaymentAmount(doc.getElementById("txtAmount").value, ccMinMaxAmounts))
                         });
                     }

                    


                      break;

                 case "ACH":
                      var achMinMaxAmounts = '2.0000|50000.0000'; 
                      validator.addValidationItem(new ValidationItem("txtNameonBankAccount", fieldTypes.Name, true, "Name on bank account is empty or invalid."));
                      validator.addValidationItem(new ValidationItem("ddlBankAccountType", fieldTypes.NonEmptyField, true, "Required."));
                      validator.addValidationItem(new ValidationItem("txtBankRoutingNumber", fieldTypes.RoutingNumber, true, "Missing or invalid routing number."));
                      
                      validator.addValidationItem(item = {
                          field: "txtBankAccountNumber",
                          styleParent: true,
                          errorMessage: "Accounts must contain 1-17 digits and match.",
                          isValid: (!!/^\d{1,17}$/.test(doc.getElementById("txtBankAccountNumber").value))
                      });

                      //validator.addValidationItem(item = {
                      //    field: "txtBankAccountNumber2",
                      //    styleParent: true,
                      //    errorMessage: "Accounts must contain 1-17 digits and match.",
                      //    isValid: (!!/^\d{1,17}$/.test(doc.getElementById("txtBankAccountNumber2").value) && !!(doc.getElementById("txtBankAccountNumber").value === doc.getElementById("txtBankAccountNumber2").value))
                      //});

                     if (panel && doc.getElementById("rdAmount").checked) {
                         validator.addValidationItem(item = {
                             field: "txtAmount",
                             styleParent: true,
                             errorMessage: "Invalid amount",
                             isValid: (validatePaymentAmount(doc.getElementById("txtAmount").value, achMinMaxAmounts))
                         });
                     }

                      break;
              }

              return validator.validate();
          }

        // Validate payment amount
        function validatePaymentAmount(field, pattern) {

            var amtParts = pattern.split("|");
            var min = amtParts[0].trim();
            var max = amtParts[1].trim();
                       
            return parseFloat(field) >= parseFloat(min) && parseFloat(field) <= parseFloat(max);
        }



          // Remove any invalid CSS classes left after changing tabs
          function clearValidationItems(formType) {
              switch (formType) {
                  case "CC":
                      // Remove any invalid CSS classes left after changing tabs
                      $('#pnlTabAch').find("*").tooltip("destroy");
                      $('#pnlTabAch').find("*").removeClass("has-error tooltip-danger");
                      $('#pnlTabAch').find("*").removeAttr("data-original-title title");

                      // Clear the ACH account form fields
                      $('#ddlBankAccountType').val("");
                      $('#txtBankRoutingNumber').val("");
                      $('#txtBankAccountNumber').val("");
                      $('#txtBankAccountNumber2').val("");

                      // Hide the ACH error messages
                      $('#pnlErrorMessage').hide();

                      // Set focus to name field
                      $('#txtAchFirstName').focus();

                      break;

                  case "ACH":
                      // Remove any invalid CSS classes left after changing tabs
                      $('#pnlTabCredit').find("*").tooltip("destroy");
                      $('#pnlTabCredit').find("*").removeClass("has-error tooltip-danger");
                      $('#pnlTabCredit').find("*").removeAttr("data-original-title title");

                      // Clear the CC account form fields
                      $('#txtCreditCardNumber').val("");
                      $('#txtExpireDate').val("");
                      $('#txtCCV').val("");

                      // Hide the CC error messages
                      $('#pnlErrorMessage').hide();

                    
                      break;
              }
          }
       


       
         
      </script>

 


  </body>
</html>
