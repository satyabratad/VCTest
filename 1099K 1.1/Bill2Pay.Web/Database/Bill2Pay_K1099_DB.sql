DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Bill2Pay.Model.DataContextMigrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '201703200937411_UAT'
BEGIN
    CREATE TABLE [dbo].[ImportDetails] (
        [Id] [int] NOT NULL IDENTITY,
        [AccountNo] [nvarchar](20),
        [ImportSummaryId] [int] NOT NULL,
        [TINCheckStatus] [nvarchar](2),
        [TINCheckRemarks] [nvarchar](512),
        [SubmissionSummaryId] [int],
        [TINType] [nvarchar](1),
        [TIN] [nvarchar](9),
        [PayerOfficeCode] [nvarchar](4),
        [GrossAmount] [decimal](18, 2),
        [CNPTransactionAmount] [decimal](18, 2),
        [FederalWithHoldingAmount] [decimal](18, 2),
        [JanuaryAmount] [decimal](18, 2),
        [FebruaryAmount] [decimal](18, 2),
        [MarchAmount] [decimal](18, 2),
        [AprilAmount] [decimal](18, 2),
        [MayAmount] [decimal](18, 2),
        [JuneAmount] [decimal](18, 2),
        [JulyAmount] [decimal](18, 2),
        [AugustAmount] [decimal](18, 2),
        [SeptemberAmount] [decimal](18, 2),
        [OctoberAmount] [decimal](18, 2),
        [NovemberAmount] [decimal](18, 2),
        [DecemberAmount] [decimal](18, 2),
        [ForeignCountryIndicator] [nvarchar](1),
        [FirstPayeeName] [nvarchar](40),
        [SecondPayeeName] [nvarchar](40),
        [PayeeMailingAddress] [nvarchar](40),
        [PayeeCity] [nvarchar](40),
        [PayeeState] [nvarchar](2),
        [PayeeZipCode] [nvarchar](9),
        [SecondTINNoticed] [nvarchar](1),
        [FillerIndicatorType] [nvarchar](1),
        [PaymentIndicatorType] [nvarchar](1),
        [TransactionCount] [int] NOT NULL,
        [MerchantCategoryCode] [nvarchar](4),
        [SpecialDataEntry] [nvarchar](60),
        [StateWithHolding] [decimal](18, 2),
        [LocalWithHolding] [decimal](18, 2),
        [CFSF] [nvarchar](2),
        [NameControl] [nvarchar](4),
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [MerchantId] [int],
        [PSEDetails_Id] [int],
        CONSTRAINT [PK_dbo.ImportDetails] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_ImportSummaryId] ON [dbo].[ImportDetails]([ImportSummaryId])
    CREATE INDEX [IX_SubmissionSummaryId] ON [dbo].[ImportDetails]([SubmissionSummaryId])
    CREATE INDEX [IX_MerchantId] ON [dbo].[ImportDetails]([MerchantId])
    CREATE INDEX [IX_PSEDetails_Id] ON [dbo].[ImportDetails]([PSEDetails_Id])
    CREATE TABLE [dbo].[ImportSummaries] (
        [Id] [int] NOT NULL IDENTITY,
        [PaymentYear] [int] NOT NULL,
        [ImportDate] [datetime2](7) NOT NULL,
        [FileName] [nvarchar](100),
        [RecordCount] [int],
        [ProcessLog] [nvarchar](1024),
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [UserId] [bigint] NOT NULL,
        CONSTRAINT [PK_dbo.ImportSummaries] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[ImportSummaries]([UserId])
    CREATE TABLE [dbo].[AspNetUsers] (
        [Id] [bigint] NOT NULL IDENTITY,
        [IsDefaultPasswordChanged] [bit] NOT NULL,
        [Email] [nvarchar](256),
        [EmailConfirmed] [bit] NOT NULL,
        [PasswordHash] [nvarchar](max),
        [SecurityStamp] [nvarchar](max),
        [PhoneNumber] [nvarchar](max),
        [PhoneNumberConfirmed] [bit] NOT NULL,
        [TwoFactorEnabled] [bit] NOT NULL,
        [LockoutEndDateUtc] [datetime],
        [LockoutEnabled] [bit] NOT NULL,
        [AccessFailedCount] [int] NOT NULL,
        [UserName] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
    CREATE TABLE [dbo].[AspNetUserClaims] (
        [Id] [int] NOT NULL IDENTITY,
        [UserId] [bigint] NOT NULL,
        [ClaimType] [nvarchar](max),
        [ClaimValue] [nvarchar](max),
        CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
    CREATE TABLE [dbo].[AspNetUserLogins] (
        [LoginProvider] [nvarchar](128) NOT NULL,
        [ProviderKey] [nvarchar](128) NOT NULL,
        [UserId] [bigint] NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
    CREATE TABLE [dbo].[AspNetUserRoles] (
        [UserId] [bigint] NOT NULL,
        [RoleId] [bigint] NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
    CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
    CREATE TABLE [dbo].[MerchantDetails] (
        [Id] [int] NOT NULL IDENTITY,
        [PayeeAccountNumber] [nvarchar](255),
        [TINType] [nvarchar](255),
        [PayeeTIN] [nvarchar](255),
        [PayeeOfficeCode] [nvarchar](255),
        [PayeeFirstName] [nvarchar](255),
        [PayeeSecondName] [nvarchar](255),
        [PayeeMailingAddress] [nvarchar](255),
        [PayeeCity] [nvarchar](40),
        [PayeeState] [nvarchar](2),
        [PayeeZIP] [nvarchar](9),
        [FilerIndicatorType] [nvarchar](255),
        [PaymentIndicatorType] [nvarchar](255),
        [MCC] [nvarchar](255),
        [CFSF] [nvarchar](2),
        [PayerId] [int] NOT NULL,
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [UserId] [bigint] NOT NULL,
        [PaymentYear] [int] NOT NULL,
        CONSTRAINT [PK_dbo.MerchantDetails] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_PayerId] ON [dbo].[MerchantDetails]([PayerId])
    CREATE INDEX [IX_UserId] ON [dbo].[MerchantDetails]([UserId])
    CREATE TABLE [dbo].[PayerDetails] (
        [Id] [int] NOT NULL IDENTITY,
        [CFSF] [nvarchar](2),
        [PayerTIN] [nvarchar](9),
        [PayerNameControl] [nvarchar](4),
        [LastFilingIndicator] [nvarchar](1),
        [ReturnType] [nvarchar](2),
        [AmountCodes] [nvarchar](16),
        [PayerForeignEntityIndicator] [nvarchar](1),
        [FirstPayerName] [nvarchar](40),
        [SecondPayerName] [nvarchar](40),
        [TransferAgentIndicator] [nvarchar](1),
        [PayerShippingAddress] [nvarchar](40),
        [PayerCity] [nvarchar](40),
        [PayerState] [nvarchar](2),
        [PayerZIP] [nvarchar](9),
        [PayerTelephoneNumber] [nvarchar](15),
        [TransmitterId] [int] NOT NULL,
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [PaymentYear] [int] NOT NULL,
        CONSTRAINT [PK_dbo.PayerDetails] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_TransmitterId] ON [dbo].[PayerDetails]([TransmitterId])
    CREATE TABLE [dbo].[TransmitterDetails] (
        [Id] [int] NOT NULL IDENTITY,
        [TransmitterTIN] [nvarchar](9),
        [TransmitterControlCode] [nvarchar](5),
        [TestFileIndicator] [nvarchar](1),
        [TransmitterForeignEntityIndicator] [nvarchar](1),
        [TransmitterName] [nvarchar](40),
        [TransmitterNameContinued] [nvarchar](40),
        [CompanyName] [nvarchar](40),
        [CompanyNameContinued] [nvarchar](40),
        [CompanyMailingAddress] [nvarchar](40),
        [CompanyCity] [nvarchar](40),
        [CompanyState] [nvarchar](2),
        [CompanyZIP] [nvarchar](9),
        [TotalNumberofPayees] [int] NOT NULL,
        [ContactName] [nvarchar](40),
        [ContactTelephoneNumber] [nvarchar](15),
        [ContactEmailAddress] [nvarchar](50),
        [VendorIndicator] [nvarchar](1),
        [VendorName] [nvarchar](40),
        [VendorMailingAddress] [nvarchar](40),
        [VendorCity] [nvarchar](40),
        [VendorState] [nvarchar](2),
        [VendorZIP] [nvarchar](9),
        [VendorContactName] [nvarchar](40),
        [VendorContactTelephoneNumber] [nvarchar](15),
        [VendorForeignEntityIndicator] [nvarchar](1),
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [PaymentYear] [int] NOT NULL,
        CONSTRAINT [PK_dbo.TransmitterDetails] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[SubmissionSummaries] (
        [Id] [int] NOT NULL IDENTITY,
        [PaymentYear] [int] NOT NULL,
        [SubmissionDate] [datetime2](7) NOT NULL,
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [UserId] [bigint] NOT NULL,
        [Status_Id] [int],
        CONSTRAINT [PK_dbo.SubmissionSummaries] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[SubmissionSummaries]([UserId])
    CREATE INDEX [IX_Status_Id] ON [dbo].[SubmissionSummaries]([Status_Id])
    CREATE TABLE [dbo].[SubmissionDetails] (
        [Id] [int] NOT NULL IDENTITY,
        [AccountNo] [nvarchar](20),
        [SubmissionId] [int] NOT NULL,
        [SubmissionType] [int] NOT NULL,
        [PseId] [int],
        [TINType] [nvarchar](1),
        [TIN] [nvarchar](9),
        [PayerOfficeCode] [nvarchar](4),
        [GrossAmount] [decimal](18, 2),
        [CNPTransactionAmount] [decimal](18, 2),
        [FederalWithHoldingAmount] [decimal](18, 2),
        [JanuaryAmount] [decimal](18, 2),
        [FebruaryAmount] [decimal](18, 2),
        [MarchAmount] [decimal](18, 2),
        [AprilAmount] [decimal](18, 2),
        [MayAmount] [decimal](18, 2),
        [JuneAmount] [decimal](18, 2),
        [JulyAmount] [decimal](18, 2),
        [AugustAmount] [decimal](18, 2),
        [SeptemberAmount] [decimal](18, 2),
        [OctoberAmount] [decimal](18, 2),
        [NovemberAmount] [decimal](18, 2),
        [DecemberAmount] [decimal](18, 2),
        [ForeignCountryIndicator] [nvarchar](1),
        [FirstPayeeName] [nvarchar](40),
        [SecondPayeeName] [nvarchar](40),
        [PayeeMailingAddress] [nvarchar](40),
        [PayeeCity] [nvarchar](40),
        [PayeeState] [nvarchar](2),
        [PayeeZipCode] [nvarchar](9),
        [SecondTINNoticed] [nvarchar](1),
        [FillerIndicatorType] [nvarchar](1),
        [PaymentIndicatorType] [nvarchar](1),
        [TransactionCount] [int] NOT NULL,
        [MerchantCategoryCode] [nvarchar](4),
        [SpecialDataEntry] [nvarchar](60),
        [StateWithHolding] [decimal](18, 2),
        [LocalWithHolding] [decimal](18, 2),
        [CFSF] [nvarchar](2),
        [NameControl] [nvarchar](4),
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [MerchantId] [int],
        CONSTRAINT [PK_dbo.SubmissionDetails] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_SubmissionId] ON [dbo].[SubmissionDetails]([SubmissionId])
    CREATE INDEX [IX_PseId] ON [dbo].[SubmissionDetails]([PseId])
    CREATE INDEX [IX_MerchantId] ON [dbo].[SubmissionDetails]([MerchantId])
    CREATE TABLE [dbo].[PSEDetails] (
        [Id] [int] NOT NULL IDENTITY,
        [TransmitterTIN] [nvarchar](9),
        [TransmitterControlCode] [nvarchar](5),
        [TestFileIndicator] [nvarchar](1),
        [TransmitterForeignEntityIndicator] [nvarchar](1),
        [TransmitterName] [nvarchar](40),
        [TransmitterNameContinued] [nvarchar](40),
        [CompanyName] [nvarchar](40),
        [CompanyNameContinued] [nvarchar](40),
        [CompanyMailingAddress] [nvarchar](40),
        [CompanyCity] [nvarchar](40),
        [CompanyState] [nvarchar](2),
        [CompanyZIP] [nvarchar](9),
        [TotalNumberofPayees] [int] NOT NULL,
        [ContactName] [nvarchar](40),
        [ContactTelephoneNumber] [nvarchar](15),
        [ContactEmailAddress] [nvarchar](50),
        [VendorIndicator] [nvarchar](1),
        [VendorName] [nvarchar](40),
        [VendorMailingAddress] [nvarchar](40),
        [VendorCity] [nvarchar](40),
        [VendorState] [nvarchar](2),
        [VendorZIP] [nvarchar](9),
        [VendorContactName] [nvarchar](40),
        [VendorContactTelephoneNumber] [nvarchar](15),
        [VendorForeignEntityIndicator] [nvarchar](1),
        [CFSF] [nvarchar](1),
        [PayerTIN] [nvarchar](9),
        [PayerNameControl] [nvarchar](4),
        [LastFilingIndicator] [nvarchar](1),
        [ReturnType] [nvarchar](2),
        [AmountCodes] [nvarchar](16),
        [PayerForeignEntityIndicator] [nvarchar](1),
        [FirstPayerName] [nvarchar](40),
        [SecondPayerName] [nvarchar](40),
        [TransferAgentIndicator] [nvarchar](1),
        [PayerShippingAddress] [nvarchar](40),
        [PayerCity] [nvarchar](40),
        [PayerState] [nvarchar](2),
        [PayerZIP] [nvarchar](9),
        [PayerTelephoneNumber] [nvarchar](15),
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        CONSTRAINT [PK_dbo.PSEDetails] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[RawTransactions] (
        [Id] [int] NOT NULL IDENTITY,
        [PayeeAccountNumber] [nvarchar](20),
        [TransactionAmount] [decimal](18, 2),
        [TransactionDate] [datetime2](7) NOT NULL,
        [TransactionType] [nvarchar](3),
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        [UserId] [bigint] NOT NULL,
        CONSTRAINT [PK_dbo.RawTransactions] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[RawTransactions]([UserId])
    CREATE TABLE [dbo].[RawTransactionStagings] (
        [Id] [int] NOT NULL IDENTITY,
        [TINType] [nvarchar](255),
        [PayeeTIN] [nvarchar](255),
        [PayeeAccountNumber] [nvarchar](255),
        [PayeeOfficeCode] [nvarchar](255),
        [CardPresentTransactions] [nvarchar](255),
        [FederalIncomeTaxWithheld] [nvarchar](255),
        [StateIncomeTaxWithheld] [nvarchar](255),
        [TransactionAmount] [nvarchar](255),
        [TransactionDate] [nvarchar](255),
        [TransactionType] [nvarchar](255),
        [PayeeFirstName] [nvarchar](255),
        [PayeeSecondName] [nvarchar](255),
        [PayeeMailingAddress] [nvarchar](255),
        [PayeeCity] [nvarchar](255),
        [PayeeState] [nvarchar](255),
        [PayeeZIP] [nvarchar](255),
        [FilerIndicatorType] [nvarchar](255),
        [PaymentIndicatorType] [nvarchar](255),
        [MCC] [nvarchar](255),
        CONSTRAINT [PK_dbo.RawTransactionStagings] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[AspNetRoles] (
        [Id] [bigint] NOT NULL IDENTITY,
        [Name] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
    CREATE TABLE [dbo].[Status] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](255),
        CONSTRAINT [PK_dbo.Status] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[SubmissionStatus] (
        [Id] [int] NOT NULL IDENTITY,
        [PaymentYear] [int] NOT NULL,
        [AccountNumber] [nvarchar](20),
        [ProcessingDate] [datetime2](7) NOT NULL,
        [StatusId] [int] NOT NULL,
        [IsActive] [bit] NOT NULL,
        [DateAdded] [datetime2](7) NOT NULL,
        CONSTRAINT [PK_dbo.SubmissionStatus] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_StatusId] ON [dbo].[SubmissionStatus]([StatusId])
    CREATE TABLE [dbo].[TINStatus] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](255),
        CONSTRAINT [PK_dbo.TINStatus] PRIMARY KEY ([Id])
    )
    ALTER TABLE [dbo].[ImportDetails] ADD CONSTRAINT [FK_dbo.ImportDetails_dbo.ImportSummaries_ImportSummaryId] FOREIGN KEY ([ImportSummaryId]) REFERENCES [dbo].[ImportSummaries] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[ImportDetails] ADD CONSTRAINT [FK_dbo.ImportDetails_dbo.MerchantDetails_MerchantId] FOREIGN KEY ([MerchantId]) REFERENCES [dbo].[MerchantDetails] ([Id])
    ALTER TABLE [dbo].[ImportDetails] ADD CONSTRAINT [FK_dbo.ImportDetails_dbo.PSEDetails_PSEDetails_Id] FOREIGN KEY ([PSEDetails_Id]) REFERENCES [dbo].[PSEDetails] ([Id])
    ALTER TABLE [dbo].[ImportDetails] ADD CONSTRAINT [FK_dbo.ImportDetails_dbo.SubmissionSummaries_SubmissionSummaryId] FOREIGN KEY ([SubmissionSummaryId]) REFERENCES [dbo].[SubmissionSummaries] ([Id])
    ALTER TABLE [dbo].[ImportSummaries] ADD CONSTRAINT [FK_dbo.ImportSummaries_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[MerchantDetails] ADD CONSTRAINT [FK_dbo.MerchantDetails_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[MerchantDetails] ADD CONSTRAINT [FK_dbo.MerchantDetails_dbo.PayerDetails_PayerId] FOREIGN KEY ([PayerId]) REFERENCES [dbo].[PayerDetails] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[PayerDetails] ADD CONSTRAINT [FK_dbo.PayerDetails_dbo.TransmitterDetails_TransmitterId] FOREIGN KEY ([TransmitterId]) REFERENCES [dbo].[TransmitterDetails] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[SubmissionSummaries] ADD CONSTRAINT [FK_dbo.SubmissionSummaries_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[SubmissionSummaries] ADD CONSTRAINT [FK_dbo.SubmissionSummaries_dbo.Status_Status_Id] FOREIGN KEY ([Status_Id]) REFERENCES [dbo].[Status] ([Id])
    ALTER TABLE [dbo].[SubmissionDetails] ADD CONSTRAINT [FK_dbo.SubmissionDetails_dbo.MerchantDetails_MerchantId] FOREIGN KEY ([MerchantId]) REFERENCES [dbo].[MerchantDetails] ([Id])
    ALTER TABLE [dbo].[SubmissionDetails] ADD CONSTRAINT [FK_dbo.SubmissionDetails_dbo.PSEDetails_PseId] FOREIGN KEY ([PseId]) REFERENCES [dbo].[PSEDetails] ([Id])
    ALTER TABLE [dbo].[SubmissionDetails] ADD CONSTRAINT [FK_dbo.SubmissionDetails_dbo.SubmissionSummaries_SubmissionId] FOREIGN KEY ([SubmissionId]) REFERENCES [dbo].[SubmissionSummaries] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[RawTransactions] ADD CONSTRAINT [FK_dbo.RawTransactions_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[SubmissionStatus] ADD CONSTRAINT [FK_dbo.SubmissionStatus_dbo.Status_StatusId] FOREIGN KEY ([StatusId]) REFERENCES [dbo].[Status] ([Id]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201703200937411_UAT', N'Bill2Pay.Model.DataContextMigrations.Configuration',  0x1F8B0800000000000400ED3DDB6EE43876EF01F20F857A4A16B3AEB6677B32D3B077E12DDB33DE69BB8D2ECF24D997865C45DB42ABA45A49D5D346902FCB433E29BF105297122F87378994AA3C42030D97489E431E1E1E1E92E7F27FFFF3BFA77FF9BA8E265F509A85497C363D3E7A339DA07899ACC2F8E96CBACD1FFFF8FDF42F7FFEE77F3ABD5CADBF4E7EADEB7D4BEAE1967176367DCEF3CDBBD92C5B3EA375901DADC3659A64C9637EB44CD6B36095CC4EDEBCF961767C3C4318C414C39A4C4E3F6EE33C5CA3E207FE394FE225DAE4DB20BA495628CAAAEFB86451409DDC066B946D82253A9BFE358CA293BBE0E5A8A83A9D9C4761807BB140D1E37412C471920739EEE3BB5F32B4C8D3247E5A6CF08720BA7FD9205CEF31883254F5FD5D53DD74186F4EC830664DC31AD4729BE5C9DA12E0F1B7155D667CF356D49DEEE886297789299CBF905117D43B9B5EAF37499A5FA03C0831D97884EFE6514A2AF3043EA29B7D33610BBFD97104661CF2EF9BC97C1BE5DB149DC5689BA701AE71B77D88C2E5CFE8E53EF98CE2B3781B45743F714F7119F3017FBA4B930D4AF3978FE8B1EEFD6A3A99B1ED667CC35D33AA4D39A6EB38FFF6643AB9C5C8838708EDD8801AFF224F52F4238A511AE4687517E4394A630203158414B073B8CE97CB0433F56D52A3C4CC87D7D07472137C7D8FE2A7FCF96C7A8217CD55F815ADEA0F552F7E8943BCE2709B3CDD221DA2723E16DBF53A485FF4235403BBBFBE9D3FA3E5E70526C2365375DD41CF6B641F3127A79F55D8DE1EBBC0B7D83EACC38CB0A78C5ADAFE92DA8A7E1EBBA18A02C30F0E30E0E58AD20F8F8FE112CD712305B63F39C0F623964FD9F99A2C861AD3055A86EB000B9DBB14FF55ED34DF4F278B654038553B11F3DBBBFB3488B3604956AA5BD8576885577CF4EF61FEFC5312916DCF2DFCBF05F116B39EEB4E3FA4EEA1DE04E9F2D92DC8F34D1A46AE7BE978D87FDBC6C835C4C8711FCFB74F78BF760B7381352EB47E40A95BB01F9679E21CE86DF2C54357717B0F50AFB01E113EC5730213EF39F12A5C0658B7F0BC8D5C85699613498FC86F958C77A1842CD0328957BDA12B10DD60059488E7D52A45994A7B7087725E287E3D2022FA978A8A2ED4A102D1DFC38D460770A17194EC81359BDB24C75AC7CA3BEF47114A772BAD07A50DD3728DCF057DA2A434A0392DAEDA29FE3708EFF5419CCF31DF3D25E94B0F8AE16283C569105D0479704924A302DD774E64145953945EE74ABEBF4F968CBEE84CCBBD5A5C791601E4FF7982899F449E27FB3A3BC7ACFA65C7537F4D920805B1359F626E4158E23722847CB80FC996D392E37587C0DBE04BF8545C09A80EDED3C9471415B5B2E770535E3F3157259FB8EA5769B2FE984488BD87616B7D5A24DB7449689668ABDE07E913CACD7B5F0F5FDFF1A6A6A4CF7505757777B56C7B2A1CDBF55D069A48FA2ED4540F42AC0E8DE674D65CB6195CC1EDFA68790757B51B2FE1A4B8AA6DF93F519076DB1E2B26A094B2D672072B273A1DF9F88D8BFDEE2356BAD215A41B688896264BAC50BF4F9E945D3C799DDBC22F19D61C6916FDEE4F7A1852D9354F11615C025421B56A59C2D4E60516504922ABA09AB64297967A999FCDADEE92C1E6568FB395903DDF6C22A295E3EE97943516B35CCB4316B42017BB13B4D7D9057A0CF0E0EF822CFB8D881DBCD53F35CBB1EDBABE5C178F537225F8ED770EA4508105EBC18F61BAEEDEE79A043F05D9B3A2EBF84F3727EB6D8A27081F6ED61BEFD8EE9E9318DD6EC91D599FB89C4DCDFD6FC9153E3227E9654C5A7586878F7E9F936D7E19AFC87EF34BBE14B71F43004EBA73BE241BF715666604EEFB2DB6428DA662BAFEDA6FA05110AEE10D8893CE9FEAAACDE603D710764D4935DB2D132B4C616CD6D5BAAABCAB650D6D57AB6AB65D25C0CC7A5AD59477B4A8A0ED6759ABD3598903594C52FBBDBC687EC81BBAE793532B35185ABB9A9B50377B4581E9D720DABA46D5963B8B75D99E3B8BE6037267811F7FFE12AEC84E3FD3B7A82B63F046F56BFEB25D035CCFE4E7D393EF9D6C4CE2D9B81966DFC8EDD7645BF625E2BA3DF792D603322FCC5A6055D2D3365CE8423AD6B83DCC667DD5BA3BBE1BCF24D772DC20E59280BC9ED6467EBA13D1C9DBB76E2CC334BBA91B3CC5D0D466680E111919A239C4571846688F35CED0954FDFFDE133B68A7088F3159A455CDF79368920CF00C6260ACEE6CAC648C10DD29BF9DC3B8E1E5ECA0B9BD9AED6D5AFE4B5C3D9235BEB67134E4D913D9C28AA093716AABAB6D72B05B31875BCAA29EF725141DBD9B256A7EB950284B53308D56AD41507974F3DB90EF46735F43EC8F2AB429FE9CB6CF623C21C1AEB764607884A1B63A2F6AA94B46317CF5BC5A45556C8E5BAEFDD0859F78EE0D808B917748501E6234ACF9F68A5CABFA1294A177843D9F46BFA9CF6A5E3A77DE9F8A97F1DBF14CA28421BA377D363279704842BD721D9A15E9FBAEA41D5A4E8056A6C9486F389A9DBE86C922A82D626ABD7496FA300596B6F42DB5187335957FED52C0A59A56869EEC79C480E54285BA8AFAD8C1AE420CA0985BF3775A14147E6358CB74A5F182778E7C97A13C42F7D0C9142D5F7F0FA7506AB90F6A11355A8FAD08A2A54FEF5A27B2C93A3521D4A1E8BFBD6AC9BA642B82D58EA6EF51DCD4781AA67ADAEC25A182AEA79FCAD8B81FE8AE25592F6258C4B6C7D4C6089A95F7951E2EC435C9498FA90162526FFC2A2A25D7F2B9C41D8F33A2F710FA20EBD9AD39EF1D109F012333E3A096DC7A393EB79042EF8764477E289B57F1CDFAFF391E8CC287947535614AE39D4B53D3B2275F1FC543A24C91D454D474271AF62347C2DF588F4B585511934E9E46EC5C36F2554C7EB28BDAB473FE1E59A39E97A9DDC40A29FD7DAC1BACBD018BC6D0CDE26BC378EC1DB76765763F0365710C7E06D63F0B631789B5B4BDE3178DB18BC4DC6FB63F0B631789B806F0CDE266CA3BD9961EEDF4559E7E06DCAF067C2150914024D5A497121D63514DADDE2D2ACC34545455F71B9BE9BA4929F606DCE2FB9B463711CB80D93C6DEB9B269345E6C49718D7656A39DD5686735DA598D7656A39DD5686735DA598D7656A39DD5ABB2B3D2DC0C3873121B9D41476750D9A48DCEA0A33368179CA333E8613883EEC1C56D07C3BEE6BEEC135799F2BD94D4119D2F6515DBDF705A99F199DCC86A4DF5E86BDB56F7961F83DFA8A7278BBB4BB6E1787FA95CE6E671E19C6D3D3EACA928C04EECAD29781A9DEADBD721FB06B5EE6657ACCCB45B5E4B90A08AAA9DDE5258B878C77F2AD8A1A568AADA8F124ABE0C5F6518C97E4371F61DB9721EA42B2CC5333CC314AFFB0FEF5819D45EC7CB648DEE83AFC452E21945AAD70637880BC5BF7FB4D2BDB40F8C179AB38E6B7CFD498131E6AA739C9A23B84B6AEACEE0EE50A94FE18E44DA1878B5258E36D1E4DB47921F388AFCBE67DCD24A37CF897988DEAF4D2143E6F05355134C21D35450A590A16A753A691049B6B5B1D82A1B1C32177A3E4BF8D9630DEEDEEECA2495F0DD5B316B9F80CAD4FD9BA48E684928ABD88D131B73446B9EE49A8EDC29C5E52CF040AFF779158361D84E6EDD4A2E7905B120E552A15A42EA1007D53AAEEA82C10DE82AAAB0064CBD6ED11BAF6FAD05C0AECDB8F2A5B83CEC4BB2393DCFB2641916BD16D55F3A3121DBE1CB783531CB52580E0248CE878784A73724DF70BFC893323F711FE20B14A11C4DCE8B033FB947CA96C14A5C5B786C2BCBFEED1EABA4FDAB52F4B19DFC83801B73154AC9B40624076B86F9348C739105C378196E82C888685C6B43162674D8E1E14B2ED006C584FB8CA862D201699EAAD90E1737493A4A9DCE2866B4E3D12A23A5290FF0E929F78D47B9BC98F2FE5589FA7AE151966803F0284B9583E3D13217A9290B708949F78D43D98CA8F2EE951728BDF02743B101D89321C9DE73279BA19E7E5E95B180B405C4A54C653D039860D1339BD7B5D08A47B5A3E9814FB5F37620BC5A1911B19CA56623A8899C5BEB805FB6CC0A6201B855B926F685575583E98D5955F366D409BAE1606CAB4AF325E328A39C5F0D4B09A952CD79D72463D821895A83F1F4C0BF06F3B7F7E256963344C649DA04220D173169DACC7955977A84C2002414D9374ED58CA6072ED5CC98490FB8443D7B2160CB7484A6028FCB4DE845A8B2990DCD16C2F00CAA1CC5004294992913FCBB74A7C3ABABBBD82B463AA41884C5B1922AC46E31E7FB374747C76E4EEECA1EF5AD64F22437C14FC7EF1984C5D4B1AF659C601808BBE10820AE8D39DF9905D23E2415D368443DF0AFD13CEEBD9A290F53A5E72803712906F26EC3BAFB2436B5BDEA95F50E597C4A5DF3A40710AD9F1EA5DA51C1B50C58C10089F42EC988B3BB2C49E2F667BC4898A86C9E1622E367D89AE66E961FD59721561E456E239DB88C39BF1FA25E542C8C3940113DCF13CF29925258A84AFBA4BEE80636043B4BE7D5A4336C9A87E14F7DE6FC6D98A5C5F539D00D4F7B3A120EC99766F361C793433F44287C6965CC62E258DB300AEF976FCE94065EB9877442D40FA70716D6CFDDDE9F0D61270C1913693C3240FE810C53FCDBCE00AE2043DBCE8814EB8145952431C14F5A0DA7CECA3C34A42AA5D65D83DA742B836AABA3A3D6CDA3C3A55EBB6B49C65EDDE08A10365E077B0D12C8F02612B47DD7527FF88D4533847E2F1DA1B932D28876BE1C3D2CDBD2DCBD88CF18C6281537968B075288BEE680F302964795FF425619D3F3BC45802F500E47836A4CED419D5D605408D86E714A80EDCA35D02AFF45018AA04B69E040D6F106702B2B7A3BE09539B7167865FE6C07BCB4C3D5C22E775F0D68E1EE57802AD4D040A41E862170CCBBB10694600A010104EC25346081FD43800AD431862AEFAB78ABA323E6E2F226C888ED0A4049EACA50038655A8A19EF107202B80BB98411AB0BB7A3AE87A063762EE7A2F14E7A12A3067142924A18A8EA71B8F3391959B320E0AB54548C542EDE734A12AC39201F4889269FC904FD46E503BE92CEC87C6FE4B142C8984E6151296182D08554B673DA120B71CE5E038C79C4E84E29C68E484AAC7E39C50D542D4D309700D510E8D750EE94425D691434EA46A2C9D6924F73B00E864E8A4005C73AA0C1CA8412A552943B000EDC069684D2CD0F05D4A2DBD99BCFC5618369417E825D9374DE1020453ABB4F68453995E039433B6D466866862AB4D8D51A3091A83F6C86F32CB5F80644646C2CC987466C2D47858255841279D61300513D2869DF35969816AC06180A9AA9201586355475CC55AA71AD2BFAB186B92D16924186C0E24173282315077B92598FD9813BE0599D4467D00B92CAC0065F76166DBA4F6386701DEA3F852243E5411CF9CDFF4066820D14CF84E6F72E695F7E4C1CA01D16F643DC5CA699DFD142D7C9A43BB4AF2EB8CA54C57BF0B3E2BA2A31BB098604EA56601DAA0CA1D63D126542664774120408018904B6345A11EA6DC96C21D29E5561436C2B3EB8E6A445C1BF314F9866844D4969BED60C454851A1709696A4C616B4E410D52B86F5490D0C080C2C34E2B0992A8BCE9903DE45B3CE5D33482EE232C9EDDFDDF74C8E3F801A2CFE845D9EE4D995E35E0B5A8DD0BB2E745280D75A6547BE5AFCC56EFCCF0D80C88A67958D64E81825075C0AEDD0BE6AEEC74B6583EA375507D389DE12A4BB4C9B741540452CBEA829BA048AD94352DAB2F93C52658E2FECFFFB8984EBEAEA3383B9B3EE7F9E6DD6C9615A0B3A375B84C932C79CC8F96C97A16AC92D9C99B373FCC8E8F67EB12C66CC9509C7F6FDD61CA933478425C294955B92AE36A5F0479F01090E865F3D55AA806BED74A9E086A94D093AC3887F5E341DD8AFC5DB6E402D6316FB7E23377D5FE0A8F92446B2C068C24BBA1D81C0320F94C82148836374FA2ED3A963FDECB5BD7011F131608F5D91C96104B81E9962ED0821CEEFDF5EDFC192D3FD70B8306CB97D943FD889938FD2C01BB2B34870B1A73D2B08DAC3D95FD2EC36A73FD2D3F5AC11160D8B42F6E7EE8CC10342CA1D01CEE8F589864754E021A2653600E6F7E7B07243BA001C335CC3154B92348EE869F92684502E40358E4B5CC31FD2D88B7986120F05C914DEF1F521950BECC1CEA4D902E9F21904C81859CDAA46104C1630A6CFA070E98FA6C312BDB188153427DB78116C1134C7DB7A0DBF6699BE520E198120BF986F50744C2034340854273B81F96792281CA1599C3BC4DBE48BBCA979943BD404B2954BECC621D96A94AE7A45D4AE72A6516A4AC92059E3A3B69A1C370E0B9321BAEA8B39002608542BB5D46483BC2EF3442054BF8658A1101EA1C88BFAB85552511118055DF2DA1FD3DDCC09B6B53623B47789BBF4D72BC31F36A89506AC35391986B84652CA082152D80BC221C4D801A16DA50A300CCC5552D965AEC34D50DFC1CCFFF5392BE88F309D7B098D70DC2E7C2881C8F2E8958E0E65528B5804C9896D25838C842A939E4F7C992D18558C862A985BE57A41D67F4BBE28BC5AE115099BE992D832EB03817ED42CA3307A2DD578B9DA7092ACF6C3ACD677BBEE48F272A977B7285C09D62F9E3F24C382F73D718FC21DCE2882EBF82B63CA24B00199FD1A5EDFD1CD299F40E80D42B0B6C0FEA17C246457FB712FEA02A11596FF61FF11694AE00F9CB1458D0ADBC987C9F70E285FE7EE8CBB876BEA301C91CF2065BBEB2BB7CE365CBBB20D82F5C2D043F4BF73ABB408FC136C25A7596FD469818CBD6277EE6E5B5CC315DAE0B3B771A6CF5C91206DEE11EC374CDF7912FB3115FE5A07E0AB2675E7ED125569AEC3625339B07EB8DA0C6D24516BDA4B3D5339DA40B5AC1935014AE61A1B3FE965C61A534492F63925D84832E965A69679F936D7E19AF884CFA255F0AEA195FDC0236D067BECCEA1E1B4BF42BCCA208DA4080623B112B6E70CDD7BD11B3B059BF3BB15B7A687596BD12307E04B0DDFE283D54902E8BA74EEAB325AC5F83680B01ABBEEF2B4B49DD34DAB254E997D799A52460E4320857C7DFBE842B5EDA734556CA66D1E667C4DF25D105AF4CB1030D22DC7147E17CD6993960287E05461D758039C54822110C367BBC71688789D3803298342D046F676B84B8B487C2652B57DEFF636DD10BE1C5B6F96A0949F56C8BDA3DDBF2E9CF05B05499ED953A95E55CBC57A70AC76705436845FA71F149817CB5BBF7D1DCF9EFF5957F91379CB9F9241FFABC68DE051F174C276C2F190EFF66CAF5DDE7405B2AE30FD5613FA5A337D8EFA5CAD67EF65147AB01DCE3D236A649E44FF015472CB5B8BC08B2FCAAD814240FF460059B1BF07C9BC6A2ACA3BF5B5C8A1446086427E77637A6C092AE950942C96D122A282BB6305500AE5FF8B236A60A0058A1D0F209F911A5E74FF4AE043C2403752CE760F11C160240AABA88352C31C0BA4BDA46774925BA4BDA4A774941DD25B5D45D4AA98222B491DEFA82352CB9A1C97A2330813C218E1CE67EEEF307B64303DEDD1DF669312892FD6E6D00C3CF9E4D2116AD81B9B25650AB1D563C68CAEA586041C5468B6482562C6E350293DDCEA07A2BDCE2EE2414B6864BA81EC65BE1D1485ACB42134CD69B207E117BCF14B48227E9355CC31A83EA3E4052C51A87B8AF3205D6F080BD952DB18628ECAFF4770B7E4BF2202AB7CDE4B1B85EE05D2CA00A36BD8DF360095C363105D6F0943A81AC8E3596E22D5DC267400573F8BFA27895A412392514DAC215894D7FB785A65A6E700D5B0CE262A3BFDB4203961A53600B4F5868D467EB91CA560350DC12B67265A86BDA6234D974D535479DBA579DDA244A80B14AAD0566A0521BC0F0F69CE4D454930A2421481FBEECD099FE205EBCC538204E58BDF5E1510FC20FA3BB741C6673F2C02C6ED7BBA69D7897CA97592CEE4C78D397E4CA92C318DD7747F7DDD17DB79117A3FBAE926EA3FBEEE8BE0BBF898DEEBB75F33DB6B319DD77A9B3CFE8BE0BCFEBE8BEEBD48E84FC3FBAEFEED5A1B98918DAC524AA49C3D2C2224AD1787C5C1D1F57A1C2F171555E637C5C1D1F57C7C7D5F171757C5C1D1F57E51847A3707985D1287C340A57D7198DC28DA11D8851F8B05709031DFEF91C051DAE00B8E4A9F6D7003A00DE8C427CFA18AB9F473BBD8D528D45FB13A1B0155CE0359C2F3C940576D0862D700661678B5502D07ACD4AE178BAC5DB4F077E6FC2C45778807990AEEEB0D28127984D58C31C0E6495AC8D39AEE365B246F7C157F20AF18C228E07E4B52C1F573478647546E1DE46B88F21260EE9E97B0C31611E6262A82DDF61B8A6EEA19AECC23475DBD6C5952E5BDE439919CB125599DB1683100CA644D6F0F73A137C9AAF2E73A28165323B5A10DECEB04E1D1B141A6C7BE5B58CEB8CC927EA337C999DA2B7CD04CBF4DDD743399D0EE56F7F7DDB7DE1488118AC1845DBD72ED2D89481824D8E248FB381050EDFC426951DC98AC82F5C4DD267917046D34683056690506FD7930E9DAC7238B6ECA475CFE6F8301292299D5C67B7DB283A9B3E0651C68B3BD5D0F95C92D6BC234F58AA5147A026D6BE7BC0DCE8529CB69C9B0AAC03E6D1254DDD2BE6910E5BCF38422E52BECA4EE4555F76BF77B948AB3CA04C82D2821E24DD684187ACCA49CA27062DAB4C277755C45D3C92972C47EB2352E168F18F681E8588DC91D4156E82387C44597E9F7C46F1D9F4E4CDF1C974721E8541562690AD529EBE5B6EB33C5907719CE4557A59831CA8C7DF921CA868B59EF1CDED33A9122859B6626429B57FD6DC2195BAA73F2381156A16F9881E27326E3A9DF10D4F018E245D389B8684B2C562FE11E18927C9A5EF0262EC16935AA8E8EC7442988E4477DF31DE4C099EF2272CB1C45F880712D1356F82AFEF51FC943F9389A301E7A918425BE8369F8E941A033F5DEFF0F91F7D3D9BFE57D1F6DDE4FA3F3E71CDBF997C48313BBD9BBC99FCB7F510F914A6AA71DA0E53C863AA00FEF6D81A3C98CAD48E92000819350D075C5ED228067ADC02A812E00FB60005FF4A05F03FD902671C2D4BC02BB40CD74144041FFE2B2B24D8F1F778B5E23D06B5602BD8E5D20F2EB9E3A51F7C9C27A6AF41B19E997EB030CE9A7E5030FE9BBE46E1994CB4A3A72F0C91E731B0EEA07E7008DEA17ED070EEA27E90F0EEA37EB0F0EEA49E8489CCABD4E51EC8FB96AA762C6B6D4CF030750A1D7C68738FA17C74730FB77A7F73A916B22EA82E351BD10DD52D13027EA82E11C00F7E4E7549C11795D2972D4F0EB0E7A94B5D52F43E5540FFCE7EDD0B2EA87E24A4E890EA492F2EACDB5DAE54F2FFCE24DDE5CC36AF0E25D487D09EFFA8E7868A9EF8431EAED10943D17F6BCDD8F6C7C9A665975324777B6AD705A6B1792FE8BB7E835B1EF06EF460AF799847C4F602914E60EB96239B74B6AACDE08DB5046432DB820337E2572AA1ADB27F27AF4B4ED446B475D79E4CD768D9D0E2DACE78752AF3CCF6B13E6B2AB85EA2F21CB5ED19A34A50ABDA30DF7E67CBB17CA2DAF6DD63D3D3B2BDFC9775F0F55F5B68C774725A071099E4B46EE13921A19885B63D2C20ED2C2B4E5AA8854CBAD9F65D03F2CBB6DFC59ACCB2FCC2D049B6BA65F1F99BC975F64B1CFE638B0BEE3135888C93AF2C87320FC8EF7AB08A497F3B0C709A68B2CB3A58D9747A596B706D5901C8CB6AC60A9A34AC408B3B559A55A03EEC80A36738AE672A75EBE47BFB2D871E8563D8FBAF2D8926C066DC2273A602AAC24958F5D33EA420A8FB6C8DBB6CE863E294D95A0F56DA43BE534AE5F4AD8FF7E916601B47320F700D1FAADB82A7BC763C40A79D773C80B77856688BE2E0DE15888F8FCB3705C8CBC7399DEDAEFD5BE0285C7FDC82747FDDBC4B3E6B79E55936EBB4C98D174D6AE6B4BB1B35DEC8A5A9620F7613F7B42AFC1881797BDF01630EB97CC8A4A30FB92436138648D561EB8B416500222FB612926B1C47B6123EA0CB6211397E64076211395770524F8A53EA49714A9D2B4E70B822D554DA9F67D85CB6766A03D3F8F52A0F7E37704DF6D883DDC6F918C92E17862C42B20287FDCA1083243BB72352C745F684CED7AE034646768A868991EC0BB2E7CE7BB56364C225FB80EC61EBA423283B95115008E5F68F7A4C9458C7A48503C33ADDE7C1D0C92A71693D0C2180B24BF1458752764A7C3896B207141ED6241360D9E592A4622DBB5C9140B8651F84EE6339A9032CBBE4FCDFB166AC71243F58CDD891B1249F3ED6EDD4EE35DF0D799D4B39D7DB9D96770D3DD814ABB3C81EEC4AF1E53DCEA6A5B59C46AA6D3746E2F2D8B6970455125BCB379F4C615A30BA6A8FAEDAA3ABB6CDEBF0E8AA3DBA6A8FAEDA1092D155BBEDF3E3E8AAFD5A4CAA4657EDEE365BA3ABF6E8AAEDD34AC89B29CF5E5FA5F4EBAA6D6ED626C9F77BB05719E373F8F81C3E3E878FCFE1E373F8F81C3E3E878FCFE1E373782BCED7AAFDEDAC9947E780D139C010D1E81CA09F87D139E0553807ECD1C585F1C5812A43F0C15E1ED8FAB5B7930C7D3C310B6929DDDE6609D9291554FAF68097C39026512D972298F8F76057E421C681F01A18C373A409696A61B768E48985DDE2912516768B452AD53D20B8D0AA4D9DC07B5B6C63F412350AAD9EDD9A347A45BB25649DAADD462E8C214C0A802DE282B58D09B69F5154E1A5AC53B3080DC85F3DC77584D2661EACC6D55D88B6713C794D1474E477E2F31C7AC765F9757B466A72FEDA593AD4ED5E4B8803F3D80470EADD835D01FE6408955753DC02C911FB5311BF9527E465BC2A360731EE78D54B92C5F24828BBD9467948BEE19E903B5A7E323EC4172842399A9C2FCB7497F3205B062B913E24D5A8618FCAA8C08A6E5515D8BEFD4140891904A564FE0212E43BCBD32014F326DFA561BC0C374124A10E57DF90FFC8807790F9920BB44131612CD5F04DF04A8399CE7628B849D0918449DB6AC77545B4DB03E6BA3200B1A25B558557CA7540FCE543E03A32960366BAE2C8A2E85559FE4A594E3CAFED23C73149743ECD534414042061C73E731D9B0888EE0F57F25A384D91F9687F79AC3443FEA4CADAD4794ABD3258E5112E76A62EF0C25EF673ED84B920F777193E3E85F8204CC605623F5051C68793A77B2494BD1671A68CA12F4139A840A36205D3B11BA57C268626A4E71528ED85D7E888C7747F98EF5E784C13AAD10F9749033C4BD071113DF742A8156390B2598B097DB562CC76B6071061BB18F3C32B6575F7A5ACD56142DF1C1D1D0B73BA1FBA559B59EB5BBBA2FD0A076114217AD881AA56621434BA4F40E96B51AF34E1DF24480755B0F8305C430A28212418CC36AF4D50A923A149700E2EACE89CD394A495DFA152FED18CCA447D3E98ED4CE6EBED8741AC77322E99F87E0816DCA9DE78631F2449BF3CD24A885451F8F6833F74B1539DE917DEB59EE178AE9D023204EBB1F12C873F97F5C67D7BBCAB0DC23DD69B9BD0CBC11888F51639D0C31AE77D4677882F7A2DC73495C39D04E3BED82A900114FE4F46B60A2AAB00C822E0F764AB606C343090AD029C35BA2FE5AC0CFCDD88DACACA55BE29963697CC4E587D6AA9B80F7975045990FAE18E765B2E15D07DE88BCA8A512093DB16DCE1FF4212E88950F87A78CA1C676368DE03479506C9459C97304669ED3099AC4ADF361250F221C8781F9CB2D502E580FE3E9D3446CEA0C2BC583EA37570365D3D90C8FCA5AD347B6F250A2508DD4EF048F0EDCAE508CB2A21D2A314344201A95003427B9E6D6E515E6A0D96282B0B691DDEAA9A1A79654E6ED983CA5A56D783AA9ABA079569B1650F4A7D44D781B2961A7F6964AA432F5CA20BA8851A105AA192062DF3762DA0644A217454053D2EC01043C008D481F00AD5F4D8013542C00ED481B0F3D54C56B57817A4C0AE1A3A5FCB608EA90B55718AA9427086A9720D1EFEE428E0E22B40F8D83AB648EBE00D3ADCBB7AFA2E5455AD04885E78E8048799D0A875179195AA029081AA32F3F522C52254D1AC1633CC8D3717201F9A32502E34C51C124A2991CAFCDAF769425586E53EE825A5BEF3D98D122813B42F9D77931C585581D793D9E1B7204DBD8BEA4903B9F2F4411A4667808055159C93A65AAB7ACA00EE267D1086964610ACB2BC3359E4AE0E00690CFD22BC9007D4E90B285C8923928096F9529AE8EDF85D0C46F1FC2080A80B3A934365430ED0C3D8E4DC0B974814F2028E4ECBB6278DCCE419208B9175343314A9E25D0C06285590053830145098EFCE39A534CC35E011C082B76BF707E40AD88854273A60632E57C3184472A88D2401825858557A911ED2D366010928754822037E313400F4C233B29330471967BC23B5598364AB917D1B2B5184D3752950A4E7E6811710659865C218820197C3C1F7CD0906D6472624D13EDFB8930383924B632AA3DB868622535F4B4A61080290C6D46CC4CB6E04DFCC1560F82297A763CA6E417D3A961938A84D1C606240A7D93D381D4B1FD7218963F4100F3EB6D2AB06BC08DB1B2D857D4456AB70F2F766B74400DAEB2E2FE524A84330ED5E3C7765A7B3F2EEB2FA807FE6491A3CA19B6485A2ACF87A3AFBB88D49C4ACF2D705CAC2A706C4298619A325F3C2BAAB731D3F26F5532FD7A3BA0A1F6F118BC4559007E7691E3E6241D044379B4E7E0DA22DAE72B97E40ABEBF8C336DF6C733C64B47E88187E200FC62AFCA733A1CFA71F36C51DBF8B21E06E8624C8D887F8AFDB9044A8ADFA7D0544159380202FD1550CAF62BA492CAFA7971DA4DB24360454916FF7807E8FD69B0803CB3EC48B800456B3EF1B1644EFD153B07CC1DFBF842B22EE6540F413C192FDF4220C9ED2609D55309AF6F827E6E1D5FAEB9FFF1F4C9BC852C8100200 , N'6.1.3-40302')
END

IF @CurrentMigration < '201703231930349_clean'
BEGIN
    EXECUTE sp_rename @objname = N'dbo.ImportDetails.AccountNo', @newname = N'AccountNumber', @objtype = N'COLUMN'
    EXECUTE sp_rename @objname = N'dbo.MerchantDetails.PayeeFirstName', @newname = N'FirstPayeeName', @objtype = N'COLUMN'
    EXECUTE sp_rename @objname = N'dbo.MerchantDetails.PayeeSecondName', @newname = N'SecondPayeeName', @objtype = N'COLUMN'
    EXECUTE sp_rename @objname = N'dbo.SubmissionDetails.AccountNo', @newname = N'AccountNumber', @objtype = N'COLUMN'
    ALTER TABLE [dbo].[ImportDetails] ALTER COLUMN [AccountNumber] [nvarchar](20) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [FirstPayeeName] [nvarchar](40) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [SecondPayeeName] [nvarchar](40) NULL
    ALTER TABLE [dbo].[SubmissionDetails] ALTER COLUMN [AccountNumber] [nvarchar](20) NULL
    ALTER TABLE [dbo].[ImportDetails] ALTER COLUMN [CFSF] [nvarchar](1) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [PayeeAccountNumber] [nvarchar](20) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [TINType] [nvarchar](1) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [PayeeTIN] [nvarchar](9) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [PayeeOfficeCode] [nvarchar](4) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [PayeeMailingAddress] [nvarchar](40) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [FilerIndicatorType] [nvarchar](1) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [PaymentIndicatorType] [nvarchar](1) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [MCC] [nvarchar](4) NULL
    ALTER TABLE [dbo].[MerchantDetails] ALTER COLUMN [CFSF] [nvarchar](1) NULL
    ALTER TABLE [dbo].[PayerDetails] ALTER COLUMN [CFSF] [nvarchar](1) NULL
    ALTER TABLE [dbo].[SubmissionDetails] ALTER COLUMN [CFSF] [nvarchar](1) NULL
    ALTER TABLE [dbo].[RawTransactionStagings] ALTER COLUMN [PayeeAccountNumber] [nvarchar](20) NULL
    ALTER TABLE [dbo].[RawTransactionStagings] ALTER COLUMN [TransactionAmount] [nvarchar](20) NULL
    ALTER TABLE [dbo].[RawTransactionStagings] ALTER COLUMN [TransactionDate] [nvarchar](32) NULL
    ALTER TABLE [dbo].[RawTransactionStagings] ALTER COLUMN [TransactionType] [nvarchar](1) NULL
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'TINType';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [TINType]
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeTIN';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeTIN]
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeOfficeCode';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeOfficeCode]
    DECLARE @var3 nvarchar(128)
    SELECT @var3 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'CardPresentTransactions';
    IF @var3 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var3 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [CardPresentTransactions]
    DECLARE @var4 nvarchar(128)
    SELECT @var4 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'FederalIncomeTaxWithheld';
    IF @var4 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var4 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [FederalIncomeTaxWithheld]
    DECLARE @var5 nvarchar(128)
    SELECT @var5 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'StateIncomeTaxWithheld';
    IF @var5 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var5 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [StateIncomeTaxWithheld]
    DECLARE @var6 nvarchar(128)
    SELECT @var6 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeFirstName';
    IF @var6 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var6 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeFirstName]
    DECLARE @var7 nvarchar(128)
    SELECT @var7 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeSecondName';
    IF @var7 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var7 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeSecondName]
    DECLARE @var8 nvarchar(128)
    SELECT @var8 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeMailingAddress';
    IF @var8 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var8 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeMailingAddress]
    DECLARE @var9 nvarchar(128)
    SELECT @var9 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeCity';
    IF @var9 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var9 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeCity]
    DECLARE @var10 nvarchar(128)
    SELECT @var10 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeState';
    IF @var10 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var10 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeState]
    DECLARE @var11 nvarchar(128)
    SELECT @var11 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PayeeZIP';
    IF @var11 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var11 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PayeeZIP]
    DECLARE @var12 nvarchar(128)
    SELECT @var12 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'FilerIndicatorType';
    IF @var12 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var12 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [FilerIndicatorType]
    DECLARE @var13 nvarchar(128)
    SELECT @var13 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'PaymentIndicatorType';
    IF @var13 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var13 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [PaymentIndicatorType]
    DECLARE @var14 nvarchar(128)
    SELECT @var14 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.RawTransactionStagings')
    AND col_name(parent_object_id, parent_column_id) = 'MCC';
    IF @var14 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[RawTransactionStagings] DROP CONSTRAINT [' + @var14 + ']')
    ALTER TABLE [dbo].[RawTransactionStagings] DROP COLUMN [MCC]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201703231930349_clean', N'Bill2Pay.Model.DataContextMigrations.Configuration',  0x1F8B0800000000000400ED3DDB6EE3B892EF0BEC3F187EDA3D981377D2D3B3338DE41CE438C94C663AE9A0DD33BB7B5E1A8ACD2442CB928F24F774B0D82FDB87FDA4FD852575E5A5789349C9CE080D346291AC228BC56291ACCBFFFDCFFF9EFEF5EB3A9A7C41691626F1D9F4F8E8D57482E265B20AE3C7B3E9367FF8F3F7D3BFFEE59FFFE9F472B5FE3AF9ADAEF79AD4C32DE3EC6CFA94E79BB7B359B67C42EB203B5A87CB34C99287FC6899AC67C12A999DBC7AF5C3ECF878863088298635999C7ED8C679B846C50FFC739EC44BB4C9B7417493AC509455DF71C9A2803AB90DD628DB044B7436FD5B18452777C1F35151753A398FC200F76281A287E92488E3240F72DCC7B7BF666891A749FCB8D8E00F41F4F1798370BD8720CA50D5F7B76D75D361BC3A21C398B50D6B50CB6D96276B4B80C7AF2BBACCF8E69DA83B6DE886297789299C3F935117D43B9B5EAF37499A5FA03C0831D978846FE7514A2AF3043EA29B7D33610BBF693802330EF9F7CD64BE8DF26D8ACE62B4CDD300D7B8DBDE47E1F217F4FC31F98CE2B3781B45743F714F7119F3017FBA4B930D4AF3E70FE8A1EEFD6A3A99B1ED667CC3A619D5A61CD3759CBF3E994E6E31F2E03E420D1B50E35FE4498A7E44314A831CADEE823C47694C60A0829002760ED7F9729960A6BEDDAEEF515AA3C50C88D7D17472137C7D87E2C7FCE96C7A8217CE55F815ADEA0F554F7E8D43BCEA709B3CDD221DB2724E16DBF53A489FF5A35403FB787D3B7F42CBCF0B4C886DA6EABA839ED7C83E606E4E3FABB0BD3976816FB1BD5F8719615119B5B4FD25B515FD3C76431505861F1C60C04B16A5EF1F1EC2259AE3460A6CDF3AC0F6239651D9F99A2C881AD3055A86EB000B9EBB14FF55ED36DF4F278B654038553B11F3DBBB8F691067C192AC56B7B0AFD00AAFFAE8DFC3FCE9A724225B9F5BF83F07F116B39EEB4EDFA7EEA1DE04E9F2C92DC8F34D1A46AE7BE978D83F6F63E41A62E4B88FE7DB47BC67BB85B9C05A17223B965BB0EF9779E21CE86DF2C54357717B0F50AFB02E113EC6730213EF39F12A5C0658BFF0BC8D5C85699613498FC86F958C77A1842CD0328957BDA12B10DD60259488E7D52A45994A7B7087725E287F3D2022FA978A8A2ED4A102D1DFC38D460770A17194EC81359BDB24C75AC7CA3BEF47114A9B95D683D28669B9C667833E51521AD09C1657DD14FF1B84F7FA20CEE798EF1E93F4B907C570B1C1E234882E823CB824925181EE3B27328AAC294AAF7325DFDF254B465F74A6E55E2DAE3CF310F97F9E60E22791E7C9BECECE31AB7E6978EA6F4912A120B6E653CC2D084BFC5684900F1F43B2E574E478DD21F036F8123E16D702AA83F774F2014545ADEC29DC945750CC75C927AEFA559AAC3F241162EF62D85A9F16C9365D129A25DAAA1F83F411E5E6BDAF87AFEF785B53D2E7BA82BABB4D2DDB9E0AC7767D97812692BE0B35D58310AB43A3399DB5176E06D7704D1F2DEFE1AA76E3459C1457B52DFF270AD2DDB6C78A0928A5ACB3DCC1CA894E473E7EE562BFFB8095AE7405E9061AA2A5C9122BD4EF924765174F5EE6B6F06B8635479A45BFFB560F432ABBE629228C4B802AA4562D4B98DABCC0022A49641554D356E8D2522FF3B3B9D55D32D8DCEA717612B2E79B4D44B472DCFD92B2C662966B79C88216E4627782F63ABB400F011EFC5D9065BF13B183B7FAC77639765DD797EBE2814A7E0E7EF39D03295460C17AF04398AE77EF734D829F82EC49D175FCA79B93F536C513840F37EB8D776C774F498CB4CF5ACE71399B9A8FBF2757F8C89CA4973169B5333C7CF4FB9C6CF3CB7845F69B5FF3A5B8FD180270D29DF325D9B8AF30332370DFEFB0156A3415D3F5D77D038D82700D6F409C74FE54576D371FB886B06B4AAAD96E9958610A63B3AED655E55D2D6B68BB5A55B3ED2A0166D6D3AAA6BCA345056D3FCB5A3B9D953890C52475DFCB8BE687BCA17B3E39755283A1B5ABB90975B35714987E0BA2AD6B545DB9B35897DDB9B3683E207716F8F1E72FE18AECF4337D8BBA32066F54BFE62FDB35C0F54C7E3E3DF9DEC9C6249E8DDB61F68DDC7E4D76655F22AEBB732F693D20F3C2AC0556253DEDC2852EA4638DDBC36CD657ADCDF1DD7826B996E306299704E4F5B45743BF7ECCCF8A71F56383867AB3411B8D21466308136388EB3BCF6C4F2EFF5FBA61C2CD7CEE7939F7F0325ED8C8EE6A4DFD425E379C3DAA757E26E1D412D94389A29A7043A1AA6B7B9D52308B51C7AB9AF22E1715B49D2D6BED749D5280B07600A15A8DBAE1E0F2A9275781FEAC84DE05597E5528327D99C97E40984363CDAEE842C1286D8A89AEABD2CE8E5D3C67159356591D97EBBE77A363DDBB81633DBB177485C1E5034ACF1F6985AA8F75BEC01BCAA65FED3EED4BBB4FFBD2EE53FFDA7D299451843646EFA4C76F5C71E53A243BD4CB53573DA89A14BD408D8DD2703E31755B9D4D5245D0DA64F576D2DB2840D6DA9BD076D4E14CD6957F358B4256295A9A4B3127920315CA16EA6B2BA30639887242E1EF4D5D68D191790DE3ADD2F7C509DE79B2DE04F1731F43A450F53DBC7EEF3B2BA47DE84415AA3EB4A20A957FBDE82396C951A90E250FC54D6BB69BA642B82D58E6FDF07881AA67ADAEC25A1826EA79FC8D8B81FE86E25592F6258C4B6C7D4C6089A95F7951E2EC435C9498FA90162526FFC2A2A25D7F2B9C41D8F33A2F710FA20EBD98D39EF1D109F00A333E3A096DC7A393EB79042EF81AA23BF1BCDA3F8EEFD7D948745E94BCA3292B0AD71CEADA9E1D8F76F1F4543A20C91D434D474271AF62347C2DF588F4B585511934D9C9BD8A87DF49A88ED7517AD78EFE2CCDDA79D9F54AB985443FB175837597A13160DB18B04D78731C03B635965763C0365710C7806D63C0B63160DB68A3BC7F36CA63C0B603B58B1E03B68D01DBC6806D03066C53863C13AE49A0B067D24A8A4BB15DC39FDD2D2ECD3A5C5454F41597EBBB492AF909D0E6FCA24B3B16C7C1DA3069EC1D2ADB46E3E59614D7686B35DA5A8DB656A3ADD5686B35DA5A8DB656A3ADD5686B35DA5ABD285BABD121B423BAD1217474081D1D4285B91C1D4247875019CE3DB8B8DDC1B8AFBD2FFBC455A6FC2F257544074C59C5EE379C56A67C2637B25A733DFADAB6D3BDE587E077EAE9C9E2EE926D38DE5F2A9779CFB1E07C595351809DD85C53F0343AD5EB9721FB06B5F06657ACCCBC5B5E4B90A08AAA3BBDA5B070F18EFF58B04347D154B51F25D47E4AA87E6D2B5879D8C3F02ED4EAEA6B7B7DB54BD8DEEE217B070ED7BBEFA94D342749EF191088B0D5C6EA2773F8A9AA09C6EA6F2BA862F553B57612EF75FA78734F90A2C12173A16701AEE5C24E47478303CF5D990D0C3EF014B3F609A84C1D7A247544F30D59C5DD38B1B501B1E649AEE9C89D525CCE3C3E7B55512A06C3B09D1C754A2E790141B8E452A15A426ADFD26A1D577541AF52BA8ACA9F94A9B75BD8ACEB5B6B01D0B41957BE1497877D4936A7E759962CC3A2D7A2FA4B6780623B7C19AF2666E9A0CA41005990F090F0F486E41BEE1739B1F013F73EBE4011CAD1E4BC3812E0937A902D8395B8B6F0D85696FD6B6E08A5FDAB7221B19DFC93801B73154AC9B40624D95D86F9348C739105C378196E82C888685C6B4316267468F0F02517688362C27D465431E9803421C8ACC1C54D928E52A7338A19ED78B44AFD65CA037C1EB07DE3512E0199BC7F5546A45E789425DA003CCA52E5E078B44CFA66CA025C06B87DE35036F59CBC7BE5054A2FFCC9506C00F66448B2F7DC29CF912C63018384C92D1B70A98B750C608245CF6C5ED742271ED58EA6073ED5CEDB81F02A98145BCD46CAB4D702B7D691566C99559D87DB704DEC0BAFAA06D31BB3AAE6CDA81374C3C1D856955F45C65146C9565A961272D299F3AE49AA964312B506E3E9817F0DE66FEFC5AD2C58BB8C93B491DB5B2E62F2E398F3AA2EE63B850188E4BE6F9CAA194D0F5CAA9931931E701912F642C09679A04C051E9714CA8B5065534A992D84E11954398A018428335326F89B3C73C3ABAB8DC3BB910E297ABE3B565205877973BE7F757474ECE6E4AEEC51DF4A264F7213FC74D08441584C1D7454C6098611485B8E00820998F39D5904D34352318D46D403FF1ACDE3DEAB99F2D8207A8E3210976204D52EACBB4F6253DBAB5E59EF90C5A7D41F427A00D13A4750AA1D15D1C480150C9048EF928C387B9725497C2D8C1709130AC7D342649C3B3AD3DCCDF2A3FA32C4CAA3C86DA41397817EF743D48B8A85310728421679E2394534700B55699FD417DDC0866067E9BC9A74868DAD3DFCA9CF9CBF0DC3E3BB3E07BAE1694F47C221F9D26C3EEC7872E887088503938C594CBC995A46E19D21CD99D2C015EA904E88FAE1F4C0C2FAB9DBFBB321EC842163228D4706C83F90618A7FDB19C0156468DB1991623DB0A8922426F849ABE1D45999878654A5D4BA6B509B6E65506D7574D4BA79EC70A9D7ED5A92B15737B822848DD7C15E830432BC89046DDFB5D41F7E63D10CA1DF4B4768AE8C34A2C697A387655B9ABB1741B1C218A5E2C672714F0AD1D71C705EC0F2A8F25FC82A637A9EB708F005CAE1101CADA93DA8B30B8C0A016B16A7045853AE8156F92F0A50045D4A0307B28E37805B59D1DB01AFCCB9B5C02BF3673BE0A51DAE1676B9FB6A400B77BF0254A1860622F5300C8163DE8D35A00453080820602FA1010BEC1F0254A08E3154795FC55B1D1D3117973741466C57004A5257861A30AC420DF58C3F0059016C023568C036F574D0F50C6EC4DCF55E28CE435560CE28524842151D4FB71E67222BB7651C146A8B908A85DACF694255862503E81125D3F8219FA866508D7416F64363FF250A964442F30A094B8C0E84AAA5B39E50905B8E72709C63CE4E84E29C68E484AAC7E39C50D542D4D309700D510E8D750ED9894AAC23879C48D55876A691DCEF00A093A1930270CDA93270A006A954A50CC102B403A7A133B140C37729B5F466F2F25B61D8505EA09764DF34850B104CADD2DA134E657A0D50CED8529B19A289AD3635468D26680CDA23BFC92C7F01921919093363D2990953E3619560059D7486C1144C481B76CE67A505AA018701A6AA4A06608D551D71156B9D6A48FF5DC5589B014823C1607320B990118C8176975B82D98F39E13B904993495C24978515A0EC3ECC6C9BD41EE72CC07B145F8A6C532AE299F39BDE000D249A09DFE94DCEBCF29E3C422C20FA8DACA75839ADB39FA2854F7B6857497E9DB194E9EA77C16745485A031613CCA9D42C401B54B9632CDA84CA84EC2E08040810037269AC28D4C394DB52B823A5DC8AC24678EEBAA31A11D7C63C45BE211A11B5E3663B183155F15D45429A1A53D89A53508314EE1B15243430A0F0B0D34A82242A6F3A640FF9164FF9348DA0FB088B6777FF371DF2387E80E8337A51B67B53A6570D782D6AF782EC79114A439D29D55EF92BB3D53B333C3603A2691E96B553A020541DB0AB79C16CCA4E678BE5135A07D587D319AEB2449B7C1B444520B5AC2EB8098A7C1659DBB2FA32596C8225EEFFFCCF8BE9E4EB3A8AB3B3E9539E6FDECE6659013A3B5A87CB34C99287FC6899AC67C12A999DBC7AF5C3ECF878B62E61CC960CC5F9F7D606539EA4C123E24A497EB0152AF29890C4C7F701895E365FAD856AE07BADE489A046093DC98A73583F1ED4ADC8DF654B2E601DF3762B3E7357EDAFF02849B4C662C048B21B8ACD310012443E48816873F324DAAE63F9E3BDBC3517F09106C41599C314622A30DDD3055C90C3FD787D3B7F42CBCFF502A1C1F265F6503F60664E3F4BC03685E67041A34E1AB691D5A7B2DF65606FAEBFE5472B38020C9BF6C50DD0FB87877089CA44AE342CA1D01CEE8F58A8647530711A2653600E6F7E7B074429A701C335CC315CA1154A99CCE61016792D734C3F07F116330C049E2BB2E9FD7D2A03CA979943BD09D2E513049229B090579B348C20784C814DFFC001539F2D66651B23704AA8EF36D0227882A9EF1674DB3E6EB31C241C536221DFB01E81C8D60001150ACDE1BE5FE689042A57640EF336F922ED2A5F660EF5022DA550F9328B7558E6899B9376299D288E5990B24A1678EAD470852EC381E7CA6CB8A24E010780150AED7619C42736E5771AA18225FC32C59A00750EC4E1D5C2AAB2A809C0AAEF96D0FE1E6EE0CDB52DB19D23BCCDDF2639DE9879B54428B5E1A928426D5E5D513F012B58D18268CE0A04700D0B6DA85500E6E2AA164B2D769AEA267E8EE7FF31499FC5F9846B58CCEB06E1F361448E4997442C70F32A945A40264C4B692C1C64A1D41CF2BB64C9E8422C64B1D442DF2B72BE32FA5DF1C562D708A834ABCC964117589C8B9AD0F2CC81A8F96AB1F3B4C1E5994DA7FD6CCF97FCF144E57A4FAE12B8D32C7F6C9E09E766EE3A833F8C5B1CD5E557D19647750920E3B3BAB4BD9FC33A93E601907A6581ED41FD42D8A8E8EF56C21F542522EBCDFE03DE82D215207F99020BBA951794EF124EBCD0DF0F7D19D74E7834209963DE60CB5776A76FBC6C795704FB85AB85E067E95E6717E821D84658ABCEB2DF091363D9FAC8CFBCBC9639A6CB7561EF4E83AD3E59C2C03BDC4398AEF93EF26536E2AB1CD44F41F6C4CB2FBAC44A93DDA66466F360BD11D458BAC8A29774AA60A69374412778128AC2352C74D6DF932BAC9426E9654CB28C70D0C5522BEDEC73B2CD2FE3159149BFE64B413DE38B3BC006FACC9759DD6763897E855914411B08506C2762C50DAEFDBA37621636EF7727764B4FAD9D65AF048C1F016CB73F4A0F15A4CBE2A993FA6C09EBB720DA42C0AAEFFBCA5252778DAE2C55FAE7EDCC521230721984ABE36F5FC2152FEDB9222B65B368F30BE2EF92E88217A6D8818611EEB8A37042DB993960287E05461D7D8039C54822120C367BBC91E80E13A7016530695A08DECED6428666E1B2B5F393B8ABC7DAA217C28B6DFBD51292EAD916757BB61D9F150EE959E1FA0E7A52205FEDEE7D3477FE7B7DE57F339F73379FE4439F17CD4D1072C174C2F692E1F06FA65CDF7D0EB4A5327E513BECA7741407FBBD54D9DACF3EEA6835807B5CDAC53489FC09BEE288A516971741965F159B82E4811EAC6073039E6FD3589475F4778B4B91C20881ECE4DCEEC61458D2B5324128B94D420565C50E3A0570FDC29775D12900B042A1E513F2034ACF1FE95D09784806EA58CEC1E2292C04805475116B5862807597B48BEE924A7497B493EE9282BA4B6AA9BB945205456823BDF5056B5872439BFD46600279621C39CCFDDCE70F6C8706BCBC77D8A7C5E048F6BBB5010C3F7B368558B406E6CA3A41AD7658F1A029AB638105151B2D92095AB1B8D3084C763B83EA9D708BBB9350D8192EA17A186F854723692D0B4D30596F82F859EC3D53D0099EA4D7700D6B0CAAFB0049156B1CE2BECA1458C303F656B6C41AA2B0BFD2DF2DF82DC983A8DC369387E27A8177B1802AD8F436CE83650E711955600D4FA913C8EA586329DED2257C06543087FF1B8A57492A915342A12D5C91D8F4775B68AAE506D7B0C5202E36FABB2D3460A93105B6F08485467DB61EA96C3500C51D612B5786BAA62D46934D575D73D4A97BD5A94DA20518ABD45A60062AB5010C6FCF494E4D35A9801282F4E1CB0E9DE90FE2C55B8C07E284D53B1F1EF520FC30BA0F076236470FCCEA76BD6CDB8977AA7C99C522CF84B77D49EE2C398CD18D7774E31DDD785B9931BAF12AE936BAF18E6EBCA3BD8D1AFE1EDBDB8C6EBCD4196874E385E77574E3756A4F42FE1FDD78F7EAF0DC4610DDC534AA4DCBD2C1324AD1787C641D1F59A1C2F191555E637C641D1F59C747D6F191757C641D1F59E51847E3707985D1387C340E57D7198DC38DA11D8871F8B05709031DFEF99C053B5C0170C954EDAF017400BC1987F8F435563F8FEEF4364A3516ED5084C24E7081D770BEF05016D8411BB8C019859D2D560940EB352B8573E04BD7E932D8679130147B3B0C51B27B7812BBD024BBB1B0A8CFCA94D8A14CEB64495ACCEDE940080653226BF8479D093EC5CD2E73A28165323B5A10DE84BE53635E1F369377652C534C3E510AF365762FC6DB4CB0C26CBE1E8A2636948FE9F5EDEE0B470AC460C528DABE7491C6A6CB12DE9F25394C0D5E9BF92636699C4846307EE16A129E8A84339A361A2C3083847A4D4F76E86495BFAC6327AD7B364FE25548A674729DDD6EA3E86CFA1044192FEE5443E7F3A859F38E3C599F461D819A58FBAB0073A34BEFD7716E2AB00E9847973070AF98473A6C3DE30879F8F82A8DC8ABBE34BF9B3C7C550E3C26395F410F926AAFA04356E5E3E393E29555A693BB2ACA241EC97396A3F511A970B4F847348F42444E7675859B200E1F50967F4C3EA3F86C7AF2EAF8643A398FC2202B932756E9FEDE2EB7599EAC83384EF22AB5A241FEBFE3D724FF1F5AAD677C73FB2C82044A96AD18594AED9F357748A5EEE92F4860859A453EA087898C9B4E677CC35380234917CEA621A16CB1987F4478E24962D5BB801876C4A4162A3A3B9D10A623118D1BC69B29C173BA608929FE422CEE89BE79137C7D87E2C7FC894C1E0D3C4FC5D0B142D7F9347CD438F8297B7B1DAFD0D7B3E97F156DDF4EAEFFE313D7FC9BC9FB14B3D4DBC9ABC97F5B0F934FDDA71AA7ED3085FC7D0AE06F8EADC18329FCEC2809809051D370C0E5E59062A0C71D802A01FE600B50F0275200FFD61638E35854025EA165B80E2222FCF05F5921C58EBFC72B16EF33A8035BC12E467E70C91D8DFCE0E33C8F7C0D8AF544F28385714EF28382F157F2350ACF64A21D9B7C61883C8F81757FF28343F086F28386738FF283847797F28385779FF2244C645E542EF740DE974AB563596B6382479553E8A04F957B0CA5D9877BB89505884BB59075B972A9D9886E576E9910F0BB728900F6BB72AA4B0ABE5794BE6C7972803DAD5CEA92A2B79502FA77F6EB5E70B9F2232145072C4F7A7161CDE9925DC8FF8D09A6CB996D5F1E4AA8F7A13DFF514F0E153DF1873C5CA31386A2FFD699B1ED8F936DCB5D4E91DC0DAA5D1798C6E6BDA0EFFB0D6E7AC0FBD183BDEA611E12BB0B443A71A35B8E6CD338AA56F72B6B09C8647404076EC4AF54224765FF4E5E969CA88DC6EAAE3D9AAED1B2A1C5B59DF1EA54E657EC637DD65470BD44E5B919BB3346959851A5DABEF9CE9663F9048DDDBBC7A665647BF92FEBE0EBBF76D08EE9A48C0E20324919DDC273424231FB62775840BA45569C74500B99348BDDBB06E455ECBE8BB51915F985A1936C75CBE2F33793EBECD738FCC716177CC4D420324EBEB21CCA3C20AFE1C12A26FDED30C069A2CDAAE86065D36915ADC1756505201FA1192B68D20F022DEE54E90581FAB0C1B99EE1B89EA9D4AD93EFEDB71C7A148E61EFBFB6249A019B718BCC7900A80A271FD44FFB9082A0EEB335EEB2A18F895366293C58690F792F38353BF0F23CDDA63F74FD468D7CBD518FAF092FEE3581F896BAE43F286DE2615DF51779145DAE1AF7D7CB4D9245CB2BCEB2D94E9BDA78B1A4664CBBBB50E38D5B9A12F160376D4FABC28FD197B7F71C30A6864BA2D0D1355CEE1E4C980D5587AD2F02950136BCD84648AE6D1C69333EA0CB626D385F4E42AC0DE7AA4DEA49654A3DA94CA97395090EC7A19ACA379DF8A5CDD968A736308D5FAEF2E07703D764493CD86D9C8F01EA7261C822802A70D8AF0C3108A873BB2175DC4F4FE87CED3A60E44FA7689818A0BE207BEEBCD79B06261CA80FC81EB64E3A42A85319018508EDFE88C74441744C5A38F0A1D37D1E0C0DAA1297D6C3100284BA145F74A850A7C48763857A40E1614D3201445D2E492A96A8CB15098413F541E83E96933A80A84BCEFF036BC61AE7F183D58C1D1947F26912DD4EED5EF3DD90D7B99443BDDD69B969E8C186589D2DF160578ACFA75B36F5A2E554526D7763262E5763776950256AB47CF7C914E604A37BF6E89E3DBA67DBBC0F8FEED9A37BF6E89E0D2119DDB347832AC7180ECEA06A74CF1EC0666B74CFE68EAEA37BB6729FF265CEB3D7D729FDBA679B9BB649725A1EEC75C6F8243E3E898F4FE2E393F8F8243E3E898F4FE2E393F8F824DE89F3470781E290353A088C0E02A383C0E820E057ACEFD1C585F1C5812A0BE6C15E1EF8F765EFEB895948A2E7F6364BC82BA8A0D2EB035E0E439A45755C8A6072CB7145BAE0E45D5E46D8E5EEBEF317BAEDF4B5468674893FD335F6CC7E46EB833541DDD22634207FF51C3F0C4AD176B0AB5CAB839FBCD128555D0C9E5F12051DD93BFB94B4775C4649B7FB729B5FD2D2CCB46AF7525C6BCD7D62E1348F07BB02FCC9102A879BB80512B5EE5311279027E465BC2A360731BE6DD54B9231ED4828BBD9467948BEE19E1095839F8CF7F1053E8CE66872BE2C53ABCD836C19AC44FA90B476863D2AA34F2ABA555560FBF627012566109492F90B4830D92C4F8350CCD1799786F132DC0491843A5C7D43FE23036E20F32517688362C258AAE19BE09506CD9B3528B849D09184491168C7754554C503E6BA32D0A5A25B558517CA75409CCF43E03A32960366BAE2C8A2E85559FE42594E3CAFED23C731C91A3ECD534414042030FC3E731D9B7082EE0F57F252384D9161637F79AC347DFBA4CA0EB2F3947A65B0CA1351EC4C5DE085BDECE7DA0973C1E9D1617C7CAADA41988C0BF87BA0A28C0F5B4CF748287B29E24C19AB598272508146C5A8A4638649F94C0C8945CF2B50DA0BAFD19136E9FE30DFBDF0982644981F2E93061695A0E322C9ED85502BC62065B30E13FA62C598ED6C0F20C29AD8C6C32B6575F7A5ACB5C384BE3A3A3A16E6743F74AB2EB3D6B77645FBB20CC22842D49A0355ADC4E83B749F80D297A25E69C20E49900EAA60F1E15F86145042281A986D5E9AA05247E091E01C5C58D1B94D29492BBF43A57CF2189589FA7C30DB99CCBFD00F8358EF645CD2DAFD102CB853BDF1C63E48927E79A49310A9223FED077FE862F639D32FBC6B3DC3F15C37056408D66363A80D7F2EEB8DFBF678571B847BAC3737A1978331106BA17CA08735CEE381EE105FF4528E692A270F09C67DB1552003286CEE8D6C155456019045C01FC956C1D86860205B05383B695FCA591970B615B59595AB7C532C6D2E999DB0FAD451711FF2EA08B220F5C31DDDB65C2A90F0D0179515A34026B71DB8C3FF8524D013A1F0E5F09439CED6D0BC078E2A0D928BD802618CD226AAC60A15EED12488D97D90F13E3865AB05CA01FD7D3A698D9C418579B17C42EBE06CBABA4FF0EC97B6D2ECBD95289420748DE091E06BCAE508CB2A21D2A314344201A95003427B9E6D6E515E6A0D96282B0B691DDEAA9A1A79654E6ED983CA5A56D783AA9ABA079569B1650F4A7D44D781B2961A7F6964AA432F5CA20BA8851A105AA192062DF3762DA0644A217454053D2EC01043C008D481F00AD5F4D8013542C00ED481B0F3D54C56B57817A4C0AE1A3A5FCB608EA90B55718AA9427086A9720D1EFEE428E0E22B40F8D83AB6486B87611DEEA69EBE0B55552B01A2171E3AC16126346ADD4564A5AA0064A0AACC7CBD48B1085534ABC50C73EBCD05C887B60C940B6D318784524AA432BFF67D9A509561B90F7A49A9EF7C9A51026582F6A5F36E9203AB2AF07A323BFC0EA4A977513D6920579E3E48C3E80C10B0AA8273D2546B554F19C0DDA40FC2D0D208825596EF4C16B9AB03401A43BF082FE40175FA020A57E28824A065BE94267A3B7E1783513C3F0820EA829DC9A1B22107E8616C72EE854B240A790147A765DB934666F20C90C5C83A9A198A54F12E0603942AC8021C180A28CC77E79C521AE61AF00860C1BB6BF707E40AD88854273A60632E57C3184472A88D2401825858557A911ED2D366010928754822037E313400F4C233B29330471967BC23B5598364AB917D1B2B5184D3752950A4E7E6811710659865C218820197C3C1F7CD0906D6472624D13EDFB8930383924B632AA3DB868622535F4B4A61080290C6D46CC4CB6E04DFCC1560F82297A763CA6E417D3A961938A84D1C606240A7D93D381D4B1FD7218963F4100F3EB6D2AB06BC08DB1B2D857D4456AB70F2F766B74400DAEB2E2FE524A84330352F9E4DD9E9ACBCBBAC3EE09F7992068FE82659A1282BBE9ECE3E6C631231ABFC7581B2F0B105718A61C668C9BCB03675AEE387A47EEAE57A545711F2F9E4C12AC883F3340F1FB02068A39B4D27BF05D11657B95CDFA3D575FC7E9B6FB6391E325ADF470C3F90076315FED399D0E7D3F79BE28EDFC5107037431264EC7DFCB76D18AD9A7E5F0151C52420C84B7415C3AB986E12CBEBF1B981749BC486802AF2350FE81FD17A136160D9FB781190C06AF67DC382E81D7A0C96CFF8FB977045C4BD0C887E2258B29F5E84C1631AACB30A46DB1EFFC43CBC5A7FFDCBFF03C373D7E89DFF0100 , N'6.1.3-40302')
END

IF @CurrentMigration < '201703240748420_clean2'
BEGIN
    ALTER TABLE [dbo].[RawTransactionStagings] ALTER COLUMN [TransactionType] [nvarchar](3) NULL
    DECLARE @var15 nvarchar(128)
    SELECT @var15 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.MerchantDetails')
    AND col_name(parent_object_id, parent_column_id) = 'PaymentYear';
    IF @var15 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[MerchantDetails] DROP CONSTRAINT [' + @var15 + ']')
    ALTER TABLE [dbo].[MerchantDetails] DROP COLUMN [PaymentYear]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201703240748420_clean2', N'Bill2Pay.Model.DataContextMigrations.Configuration',  0x1F8B0800000000000400ED3DDB6EE3B892EF0BEC3F187EDA3D981377D2D3B3338DE41CE438C94C663AE9A0DD33BB7B5E1A8ACD2442CB928F24F774B0D82FDB87FDA4FD852575E5A5789349C9CE080D346291AC228BC56291ACCBFFFDCFFF9EFEF5EB3A9A7C41691626F1D9F4F8E8D57482E265B20AE3C7B3E9367FF8F3F7D3BFFEE59FFFE9F472B5FE3AF9ADAEF79AD4C32DE3EC6CFA94E79BB7B359B67C42EB203B5A87CB34C99287FC6899AC67C12A999DBC7AF5C3ECF878863088298635999C7ED8C679B846C50FFC739EC44BB4C9B7417493AC509455DF71C9A2803AB90DD628DB044B7436FD5B18452777C1F35151753A398FC200F76281A287E92488E3240F72DCC7B7BF666891A749FCB8D8E00F41F4F1798370BD8720CA50D5F7B76D75D361BC3A21C398B50D6B50CB6D96276B4B80C7AF2BBACCF8E69DA83B6DE886297789299C3F935117D43B9B5EAF37499A5FA03C0831D978846FE7514A2AF3043EA29B7D33610BBF693802330EF9F7CD64BE8DF26D8ACE62B4CDD300D7B8DBDE47E1F217F4FC31F98CE2B3781B45743F714F7119F3017FBA4B930D4AF3E70FE8A1EEFD6A3A99B1ED667CC3A619D5A61CD3759CBF3E994E6E31F2E03E420D1B50E35FE4498A7E44314A831CADEE823C47694C60A0829002760ED7F9729960A6BEDDAEEF515AA3C50C88D7D17472137C7D87E2C7FCE96C7A8217CE55F815ADEA0F554F7E8D43BCEA709B3CDD221DB2724E16DBF53A489FF5A35403FB787D3B7F42CBCF0B4C886DA6EABA839ED7C83E606E4E3FABB0BD3976816FB1BD5F8719615119B5B4FD25B515FD3C76431505861F1C60C04B16A5EF1F1EC2259AE3460A6CDF3AC0F6239651D9F99A2C881AD3055A86EB000B9EBB14FF55ED36DF4F278B654038553B11F3DBBB8F691067C192AC56B7B0AFD00AAFFAE8DFC3FCE9A724225B9F5BF83F07F116B39EEB4EDFA7EEA1DE04E9F2C92DC8F34D1A46AE7BE978D83F6F63E41A62E4B88FE7DB47BC67BB85B9C05A17223B965BB0EF9779E21CE86DF2C54357717B0F50AFB02E113EC6730213EF39F12A5C0658BFF0BC8D5C85699613498FC86F958C77A1842CD0328957BDA12B10DD60259488E7D52A45994A7B7087725E287F3D2022FA978A8A2ED4A102D1DFC38D460770A17194EC81359BDB24C75AC7CA3BEF47114A9B95D683D28669B9C667833E51521AD09C1657DD14FF1B84F7FA20CEE798EF1E93F4B907C570B1C1E234882E823CB824925181EE3B27328AAC294AAF7325DFDF254B465F74A6E55E2DAE3CF310F97F9E60E22791E7C9BECECE31AB7E6978EA6F4912A120B6E653CC2D084BFC5684900F1F43B2E574E478DD21F036F8123E16D702AA83F774F2014545ADEC29DC945750CC75C927AEFA559AAC3F241162EF62D85A9F16C9365D129A25DAAA1F83F411E5E6BDAF87AFEF785B53D2E7BA82BABB4D2DDB9E0AC7767D97812692BE0B35D58310AB43A3399DB5176E06D7704D1F2DEFE1AA76E3459C1457B52DFF270AD2DDB6C78A0928A5ACB3DCC1CA894E473E7EE562BFFB8095AE7405E9061AA2A5C9122BD4EF924765174F5EE6B6F06B8635479A45BFFB560F432ABBE629228C4B802AA4562D4B98DABCC0022A49641554D356E8D2522FF3B3B9D55D32D8DCEA717612B2E79B4D44B472DCFD92B2C662966B79C88216E4627782F63ABB400F011EFC5D9065BF13B183B7FAC77639765DD797EBE2814A7E0E7EF39D03295460C17AF04398AE77EF734D829F82EC49D175FCA79B93F536C513840F37EB8D776C774F498CB4CF5ACE71399B9A8FBF2757F8C89CA4973169B5333C7CF4FB9C6CF3CB7845F69B5FF3A5B8FD180270D29DF325D9B8AF30332370DFEFB0156A3415D3F5D77D038D82700D6F409C74FE54576D371FB886B06B4AAAD96E9958610A63B3AED655E55D2D6B68BB5A55B3ED2A0166D6D3AAA6BCA345056D3FCB5A3B9D953890C52475DFCB8BE687BCA17B3E39755283A1B5ABB90975B35714987E0BA2AD6B545DB9B35897DDB9B3683E207716F8F1E72FE18AECF4337D8BBA32066F54BFE62FDB35C0F54C7E3E3DF9DEC9C6249E8DDB61F68DDC7E4D76655F22AEBB732F693D20F3C2AC0556253DEDC2852EA4638DDBC36CD657ADCDF1DD7826B996E306299704E4F5B45743BF7ECCCF8A71F56383867AB3411B8D21466308136388EB3BCF6C4F2EFF5FBA61C2CD7CEE7939F7F0325ED8C8EE6A4DFD477FDDE0B409D9FB86A29A70B1A0AA6B7B0B52CCB151C7AB9AF22E1715B49D2D6BED740B5280B0F6DBA05A8D2ADDE062A5270BFFFE8C7BDE05597E55E81F7D59B77E40984363CD66E6422F284D81898AAA52AA8E5DBC42159356190B97EBBE775B61DD75BF63F5B81774859DE4034ACF1F693DA88F75BEC01BCAA65FA53CED4B294FFB52CA53FF4A79299451843646CF9BC76F5C71E53A243BD4CBD332BB9B5D4975358A5EA0C64669389F98BAADCE26A922686DB27A3BE96D14206BED4D683BEA7026EBCABF9A4521AB142DCD5D9613C9810A650BF5B59551831C4439A1F0F7A62EB4E8C8BC86F156E9B2E204EF3C596F82F8B98F2152A8FA1E5EBFD79415D23E74A20A551F5A5185CABF5EF411CBE4A854879287E28234DB4D5321DC162CF37E78BC40D5B35657612DEC09F53CFEC6C5407F43F12A49FB12C625B63E26B0C4D4AFBC2871F6212E4A4C7D488B12937F6151D1AEBF15CE20EC799D97B80751875ECC69CFF8E8043873191F9D84B6E3D1C9F53C02177C0DD19D384CED1FC7F7FB8A26FA1C4ADED19415856B0E756DCFFE42BB38682AFD86E4FE9CF6EEA6AAD1F0B5D423D2D7164665D06427AF281E7E27A13A5E47E93D32FA33106BE765D72BE51612FDC4D60DD65D86C6386B639C35E1CD718CB3D6184C8D71D65C411CE3AC8D71D6C6386BA369F1FE99168F71D60ED49C798CB336C6591BE3AC0D18674D19A94CB82681A295492B292EC5768D5A76B7B834EB705151D1575CAEEF26A9E427AE9AF38B2EED581CC758C3A4B1F7836C1B8D975B525CA3ADD5686B35DA5A8DB656A3ADD5686B35DA5A8DB656A3ADD5686BF5A26CAD4687D08EE84687D0D12174740815E67274081D1D426538F7E0E27607E3BEF6BEEC135799F2BF94D4111D306515BBDF705A99F299DCC86ACDF5E86BDB4EF7961F82DFA9A7278BBB4BB6E1787FA95CE63D8770F3654D45017662734DC1D3E854AF5F86EC1BD4C29B5DB132F36E792D41822AAAEEF496C2C2C53BFE63C10E1D4553D57E9450FB29A17A58F85279D8C3F02ED4EAEA6B7B7DB54BB4DDEE9176078EB2BBEF1949342749EF890B88B0D586D82773F8A9AA0986D86F2BA842EC53B57612EF75D677734F90A2C12173A16701AEE5C24E47478303CF5D99C40B3EF014B3F609A84C1D7A247544F30D59C5DD38B1B501B1E649AEE9C89D525CCE3C3E7B55512A06C3B09D1C754A2E790141B8E452A15A426ADFD26A1D577541AF52BA8ACA9F94A9B75BD8ACEB5B6B01D0B41957BE1497877D4936A7E759962CC3A2D7A2FA4B276E623B7C19AF2666599CCA4100C98BF090F0F486E41BEE17B9C7E727EE7D7C812294A3C9797124C027F5205B062B716DE1B1AD2CFBD7DC104AFB57A530623BF9270137E62A9492690D488EBA0CF36918E7220B86F132DC049111D1B8D6862C4CE8D0E0E14B2ED006C584FB8CA862D201691E8F59838B9B241DA54E671433DAF16895B1CB9407F8F45DFBC6A35CDE3079FFAA4446BDF0284BB4017894A5CAC1F16899ABCD9405B8C46DFBC6A16CC63879F7CA0B945EF893A1D800ECC99064EFB9539EDA58C60206798E5B36E0320EEB18C0048B9ED9BCAE854E3CAA1D4D0F7CAA9DB703E1553097B59A8D94D9AA056EAD23ADD832AB3A7DB6E19AD8175E550DA6376655CD9B5127E88683B1AD2ABF8A8CA38C92ADB42C25A49233E75D93542D87246A0DC6D303FF1ACCDFDE8B5B59B07619276923B7B75CC4E4C731E7555DCC770A0310C97DDF3855339A1EB8543363263DE03224EC85802DF340990A3C2E299417A1CAA694325B08C333A8721403085166A64CF037E9E18657571B8777231D52F47C77ACA40A0EF3E67CFFEAE8E8D8CDC95DD9A3BE954C9EE426F8E9A00983B0983AE8A88C130C2390B61C01041330E73BB308A687A4621A8DA807FE359AC7BD5733E5B141F41C65202EC508AA5D58779FC4A6B657BDB2DE218B4FA93F84F400A2758EA0543B2AA289012B182091DE251971F62E4B92F85A182F1226148EA785C8387774A6B99BE547F56588954791DB48272E03FDEE87A817150B630E50842CF2C4738A68E016AAD23EA92FBA810DC1CED27935E90C1B5B7BF8539F397F1B86C7777D0E74C3D39E8E8443F2A5D97CD8F1E4D00F110A072619B3987833B58CC23B439A33A5812BD4219D10F5C3E98185F573B7F76743D80943C6441A8F0C907F20C314FFB633802BC8D0B63322C57A605125494CF09356C3A9B3320F0DA94AA975D7A036DDCAA0DAEAE8A875F3D8E152AFDBB52463AF6E7045081BAF83BD060964781309DABE6BA93FFCC6A21942BF978ED05C1969448D2F470FCBB634772F826285314AC58DE5E29E14A2AF39E0BC80E551E5BF9055C6F43C6F11E00B94C321385A537B506717181502D62C4E09B0A65C03ADF25F14A008BA94060E641D6F00B7B2A2B7035E99736B8157E6CF76C04B3B5C2DEC72F7D58016EE7E05A8420D0D44EA611802C7BC1B6B4009A6101040C05E420316D83F04A8401D63A8F2BE8AB73A3A622E2E6F828CD8AE0094A4AE0C356058851AEA197F00B202D8046AD0806DEAE9A0EB19DC88B9EBBD509C87AAC09C51A490842A3A9E6E3DCE44566ECB3828D41621150BB59FD384AA0C4B06D0234AA6F1433E51CDA01AE92CEC87C6FE4B142C8984E6151296181D08554B673DA120B71CE5E038C79C9D08C539D1C809558FC739A1AA85A8A713E01AA21C1AEB1CB2139558470E3991AAB1EC4C23B9DF014027432705E09A5365E0400D52A94A19820568074E4367628186EF526AE9CDE4E5B7C2B0A1BC402FC9BE690A1720985AA5B5279CCAF41AA09CB1A5363344135B6D6A8C1A4DD018B4477E9359FE022433321266C6A43313A6C6C32AC10A3AE90C8329989036EC9CCF4A0B54030E034C55950CC01AAB3AE22AD63AD590FEBB8AB13603904682C1E6407221231803ED2EB704B31F73C27720932693B8482E0B2B40D97D98D936A93DCE5980F728BE14D9A654C433E737BD011A483413BED39B9C79E53D79845840F41B594FB1725A673F450B9FF6D0AE92FC3A6329D3D5EF82CF8A90B4062C269853A9598036A872C758B4099509D95D1008102006E4D25851A88729B7A570474AB915858DF0DC75473522AE8D798A7C4334226AC7CD763062AAE2BB8A843435A6B035A7A00629DC372A48686040E161A795044954DE74C81EF22D9EF2691A41F71116CFEEFE6F3AE471FC00D167F4A26CF7A64CAF1AF05AD4EE05D9F32294863A53AABDF25766AB7766786C0644D33C2C6BA74041A83A6057F382D9949DCE16CB27B40EAA0FA7335C658936F936888A406A595D701314F92CB2B665F565B2D8044BDCFFF99F17D3C9D775146767D3A73CDFBC9DCDB2027476B40E976992250FF9D13259CF8255323B79F5EA87D9F1F16C5DC2982D198AF3EFAD0DA63C498347C49592FC602B54E43121898FEF0312BD6CBE5A0BD5C0F75AC913418D127A9215E7B07E3CA85B91BFCB965CC03AE6ED567CE6AEDA5FE15192688DC580916437149B630024887C9002D1E6E649B45DC7F2C77B796B2EE0230D882B328729C45460BAA70BB82087FBF1FA76FE84969FEB054283E5CBECA17EC0CC9C7E96806D0ACDE182469D346C23AB4F65BFCBC0DE5C7FCB8F5670041836ED8B1BA0F70F0FE11295895C695842A139DC1FB150C9EA60E2344CA6C01CDEFCF60E88524E03866B9863B8422B943299CD212CF25AE6987E0EE22D6618083C5764D3FBFB5406942F33877A13A4CB270824536021AF36691841F098029BFE8103A63E5BCCCA3646E09450DF6DA045F00453DF2DE8B67DDC66394838A6C442BE613D0291AD01022A149AC37DBFCC130954AEC81CE66DF245DA55BECC1CEA055A4AA1F26516EBB0CC133727ED523A511CB32065952CF0D4A9E10A5D8603CF95D970459D020E002B14DAED32884F6CCAEF3442054BF8658A3501EA1C88C3AB85556551138055DF2DA1FD3DDCC09B6B5B623B47789BBF4D72BC31F36A89506AC3535184DABCBAA27E0256B0A205D19C1508E01A16DA50AB00CCC5552D965AEC34D54DFC1CCFFF63923E8BF309D7B098D70DC2E7C3881C932E8958E0E65528B5804C9896D25838C842A939E477C992D18558C862A985BE57E47C65F4BBE28BC5AE11506956992D832EB0381735A1E5990351F3D562E76983CB339B4EFBD99E2FF9E389CAF59E5C2570A759FED83C13CECDDC75067F18B738AACBAFA22D8FEA1240C66775697B3F877526CD0320F5CA02DB83FA85B051D1DFAD843FA84A44D69BFD07BC05A52B40FE320516742B2F28DF259C78A1BF1FFA32AE9DF0684032C7BCC196AFEC4EDF78D9F2AE08F60B570BC1CFD2BDCE2ED043B08DB0569D65BF1326C6B2F5919F79792D734C97EBC2DE9D065B7DB2848177B887305DF37DE4CB6CC45739A89F82EC89975F74899526BB4DC9CCE6C17A23A8B17491452FE954C14C27E9824EF02414856B58E8ACBF275758294DD2CB986419E1A08BA556DAD9E7649B5FC62B22937ECD97827AC61777800DF4992FB3BACFC612FD0AB328823610A0D84EC48A1B5CFB756FC42C6CDEEF4EEC969E5A3BCB5E09183F02D86E7F941E2A4897C55327F5D912D66F41B4858055DFF795A5A4EE1A5D59AAF4CFDB99A52460E4320857C7DFBE842B5EDA734556CA66D1E617C4DF25D1052F4CB1030D23DC7147E184B63373C050FC0A8C3AFA00738A914424186CF67823D11D264E03CA60D2B410BC9DAD850CCDC2656BE72771578FB5452F8417DBF6AB2524D5B32DEAF66C3B3E2B1CD2B3C2F51DF4A440BEDADDFB68EEFCF7FACAFF663EE76E3EC9873E2F9A9B20E482E984ED25C37833D5710B64FC9876D8FFE8A80BF67B9FB2B59F7DCF11F7827B52DAC59488FC09BEBA88A516970D41965F15425CF2A00E56B0B9B1CEB7692CCA26FABBC52546613440765E6E37620A2CE95A990C94DC26A182B262071D00B82EE1CBBAE8000058A1D0F2C9F701A5E78FF42E023CFC02752CE760F114160240AA6A88352C31C0BA46DA45D74825BA46DA49D748415D23B5D4354AA98222B491DED282352CB9A1CD562330813C918D1CE67EEECB5D5F1307DAA101AFEC1DF669319891FD6E6D00C3CF9E4D2116AD77B9B24E50AB1D563C18CAEA586041C5468B6482562CEE340293DDCEA07A27DCE2EE241476864BA81EC65BE191475ACB42134CD69B207E167BCF14748227E9355CC31A83EAFC2EA9628D43DC5799026B78C0DECA96584314F657FABB05BF25791095DB66F2505C07F02E1150059BDEC679B0CC212EA30AACE1297502591D6B2CC5DBB784CF800AE6F07F43F12A4925724A28B4852B129BFE6E0B4DB5DCE01AB618C4C5467FB785062C35A6C0169EB0D0A8CFD62395AD06A0B8236CE5CA50D7B4C568B2E9AA6B8E3A75AF3AB58977BFB14AAD0566A0521BC0F0F6FCE3D4B4920A0021481FBEECD099FE202E78C5F81D4E58BDF3E1510FC20FA3FB70F86573EAC0AC6ED7CBB69D78A7CA97592CF24C788B97E4BA92C318DD6E47B7DBD1EDB69519A3DBAD926EA3DBEDE8763BDAC7A8E1EFB17DCCE8764B9D8146B75B785E47B75BA7F624E4FFD1ED76AF0ECF6DC4CF5D4CA3DA342A1D2CA3148DC747D6F191152A1C1F59E535C647D6F191757C641D1F59C747D6F191558E71340E9757188DC347E370759DD138DC18DA8118870F7B9530D0E19FCF31B0C3150097FCD4FE1A4007C09B71884FDF60F5F3E84E6FA35463D10E4528EC0417780DE70B0F65811DB4810B9C01D8D9629500B45EB3523807BE749D2E837D160943B1B7C39022BB8713B10B25B21B0B8BFAAC4C891DCAB44E9654C5DC9E0E84603025B2867FD499E053D2EC32271A5826B3A305E14DE83B35E6F561337957C61EC5E413A5305F66F762BCCD042BCCE6EBA1686243F9985EDFEEBE70A4400C568CA2ED4B17696C7A2BE1FD599273D4E0B5996F6293768964F0E217AE2641A94838A369A3C1023348A8D7F464874E56F9C63A76D2BA67F3245E85644A27D7D9ED368ACEA60F4194F1E24E35743EEF9935EFC893EB69D411A889B5BF0A3037BA747C1DE7A602EB80797409FEF68A79A4C3D6338E90378FAFD288BCEA4BF3BBC99B57E5AC6392E915F420A9F10A3A6455FE3C3E895D59653AB9ABA242E2913C67395A1F910A478B7F44F32844E4645757B809E2F00165F9C7E4338ACFA627AF8E4FA693F3280CB232D961959EEFED729BE5C93A88E324AF52211AE4EB3B7E4DF2F5A1D57AC637B7CFFA47A064D98A91A5D4FE59738754EA9EFE820456A859E4037A98C8B8E974C6373C05389274E16C1A12CA168BF94784279E2442BD0B8861474C6AA1A2B3D309613A1281B861BC99123CA70B9698E22FC4E29EE89B37C1D777287ECC9FC8E4D1C0F3540CF52A749D4F9B478D839FB2B7D7F10A7D3D9BFE57D1F6EDE4FA3F3E71CDBF99BC4F314BBD9DBC9AFCB7F530F9547BAA71DA0E53C8B7A700FEE6D81A3C9872CF8E92000819350D075C5E0E29067ADC01A812E00FB600057F2205F06F6D81338E4525E0155A86EB2022C20FFF951552ECF87BBC62F13E833AB015EC62E40797DCD1C80F3ECEF3C8D7A0584F243F5818E7243F28187F255FA3F04C26DAB1C91786C8F31858F7273F38046F283F6838F7283F487877293F5878F7294FC244E645E5720FE47DA9543B96B53626785439850EFA54B9C7509A7DB8875B5980B8540B59972B979A8DE876E5960901BF2B970860BF2BA7BAA4E07B45E9CB962707D8D3CAA52E297A5B29A07F67BFEE05972B3F125274C0F2A41717D69C2ED985FCDF9860BA9CD9F6E5A1847A1FDAF31FF5E450D1137FC8C3353A6128FA6F9D19DBFE38D9B6DCE514C9DDA0DA7581696CDE0BFABEDFE0A607BC1F3DD8AB1EE621B1BB40A4132DBAE5C836EDA26A75BFB296804C064670E046FC4A255E54F6EFE465C989DA68ACEEDAA3E91A2D1B5A5CDB19AF4E653EC43ED6674D05D74B549E4BB13B6354891455AAED9BEF6C39964FA8D8BD7B6C1A45B697FFB20EBEFE6B07ED984EA2E800229344D12D3C272414B325768705A44764C54907B590498BD8BD6B401EC4EEBB589B01915F183AC956B72C3E7F33B9CE7E8DC37F6C71C1474C0D22E3E42BCBA1CC03F2101EAC62D2DF0E039C26DA2C880E56369D06D11A5C575600F2079AB182265D20D0E24E950E10A80F1B9CEB198EEB994ADD3AF9DE7ECBA147E118F6FE6B4BA219B019B7C89C0780AA70B240FDB40F2908EA3E5BE32E1BFA98386556C18395F690F78253B3032FCFD36DBA42D76FD4C8D71BF5F89AF0E25E13886FA94BFE83D21C1ED6557F91F7D0E5AA717FBDDC2445B4BCE22C9BEDB4A98D174B2566D31D579ACBF060775B4FECECC75ACBDB430C180CC32551E8B0182EC53E131F43D561EB1B3C65640C2F460D92FB16476A880FE8B22019CE97931024C3B94E927AD275524FBA4EEA5CD781E368A8A6F24D277E69932DDAEDF74CE397BBEB777A8534DEC035E90D0F761BE78377BA5C18B2D09D0A1CF62B438CDEE9DCE0471DB0D3133A5FBB0E18B2D3291A2678A72FC89E3BEFF58A8089E3E903B287AD930EEDE9544640B13DBBBFBE31E10B1D93168E58E8749F07637AAAC4A5F53084C89E2EC5171DE3D329F1E1209F1E507858934CE44F974B920A02EA72450271407D10BA8FE5A48EFCE992F3FFC09AB1C6EBFB60356347568D7C7E43B753BBD77C37E4AB2BE5096F775A6E1A7A30FE55A7393CD895E2F3CD95CD9968399554DBDD98894BB2D85D1A5419162D1F6C32851DC0E8573DFA558F7ED5360FBBA35FF5E8573DFA55434846BFEAD112CA318683B3841AFDAA0730B61AFDAAB9A3EBE857ADDCA77C99F3ECF5754ABF7ED5E6A66D926494077B9D313E898F4FE2E393F8F8243E3E898F4FE2E393F8F8243E3E8977E2FCD141A038648D0E02A383C0E820303A08F815EB7B7471617C71A04A5F79B09707FE9DD0FB7A6216B2DFB9BDCD1212022AA8F4FA8097C39066511D97229895725C918370B274B9BBEFFC856E3B7DAD91215D02C7740D1AB39F61F6604D50B7B4090DC85F3D07FE8272AB1DEC2AD7EAE0276F344A551783E797444147F6CE3E25ED1D970AD2EDBEDC2686B43433ADDABD14D75A739F58383FE3C1AE007F32844ABE266E8144ADFB5404F8E3097919AF8ACD410C4C5BF592A43A3B12CA6EB6511E926FB827E45E809F8CF7F1053E8CE66872BE2C73A2CD836C19AC44FA907C74863D2AC3462ABA555560FBF627012566109492F90B4814D82C4F83504CAE799786F132DC0491843A5C7D43FE23036E20F32517688362C258AAE19BE09546BB9B3528B849D09184C9ED67C7754538C403E6BA3242A5A25B558517CA754080CE43E03A207BFD21315D716451F4AA2C7FA12C279ED7F691E3982C0B9FE629220A0210D17D9FB98ECD1441F7872B79299CA6488DB1BF3C569ABE7D52A5F5D8794ABD3258E5892876A62EF0C25EF673ED84B9E0BCE6303E3EC7EC204CC645EA3D5051C6C71BA67B2494BD1471A60CB22C4139A840A36254D231C3A47C2686C4A2E71528ED85D7E8489B747F98EF5E784C1322CC0F9749038B4AD07191E4F642A8156390B25987097DB162CC76B60710614D50E2E195B2BAFB52D6DA61425F1D1D1D0B73BA1FBA559759EB5BBBA27D59066114216ACD81AA5662F41DBA4F40E94B51AF34618724480755B0F8F02F430A2821140DCC362F4D50A923F048700E2EACE8A4A494A495DFA1523E798CCA447D3E98ED4CE65FE88741AC77322EDBEC7E0816DCA9DE78631F2449BF3CD2498854919FF6833F7431FB9CE917DEB59EE178AE9B023204EBB131D4863F97F5C67D7BBCAB0DC23DD69B9BD0CBC11888B5503ED0C31AE7F14077882F7A29C73495938704E3BED82A90011436F746B60A2AAB00C822E08F64AB606C343090AD029C56B42FE5AC0C38DB8ADACACA55BE29963697CC4E587DEAA8B80F7975045990FAE18E6E5B2E154878E88BCA8A512093DB0EDCE1FF4212E88950F87278CA1C676B68DE03479506C9456C81304669135563850AF76812C4EC3EC8781F9CB2D502E580FE3E9DB446CEA0C2BC583EA17570365DDD2778F64B5B69F6DE4A144A10BA46F048F035E57284659510E9510A1AA18054A801A13DCF36B7282FB5064B949585B40E6F554D8DBC3227B7EC41652DABEB41554DDD83CAB4D8B207A53EA2EB40594B8DBF3432D5A1172ED105D4420D08AD5049839679BB165032A5103AAA821E176088216004EA4078856A7AEC801A216007EA40D8F96A26AB5ABC0B5260570D9DAF6530C7D485AA38C5542138C354B9060F7F721470F115207C6C1D5BA4B5C3B00E77534FDF85AAAA9500D10B0F9DE030131AB5EE22B252550032505566BE5EA458842A9AD56286B9F5E602E4435B06CA85B6984342292552995FFB3E4DA8CAB0DC07BDA4D4773ECD28813241FBD27937C9815515783D991D7E07D2D4BBA89E34902B4F1FA4617406085855C13969AAB5AAA70CE06ED20761686904C12ACB77268BDCD501208DA15F8417F2803A7D01852B714412D0325F4A13BD1DBF8BC1289E1F041075C1CEE450D99003F4303639F7C2251285BC80A3D3B2ED4923337906C862641DCD0C45AA781783014A1564010E0C0514E6BB734E290D730D7804B0E0DDB5FB0372056C44AA131DB03197AB610C2239D4469200412CAC2ABD480FE969B38004943A249101BF181A007AE119D94998A38C33DE91DAAC41B2D5C8BE8D9528C2E9BA1428D273F3C00B8832CC32610CC180CBE1E0FBE60403EB231392689F6FDCC98141C9A53195D16D434391A9AF25A530040148636A36E26537826FE60A307C91CBD33165B7A03E1DCB0C1CD4260E3031A0D3EC1E9C8EA58FEB90C4317A88071F5BE955035E84ED8D96C23E22AB5538F97BB35B2200ED7597977212D421989A17CFA6EC7456DE5D561FF0CF3C4983477493AC5094155F4F671FB631899855FEBA4059F8D88238C53063B4645E589B3AD7F143523FF5723DAAAB08F97CF26015E4C1799A870F5810B4D1CDA693DF82688BAB5CAEEFD1EA3A7EBFCD37DB1C0F19ADEF23861FC883B10AFFE94CE8F3E9FB4D71C7EF6208B89B210932F63EFEDB368C564DBFAF80A8621210E425BA8AE1554C3789E5F5F8DC40BA4D62434015F99A07F48F68BD8930B0EC7DBC08486035FBBE6141F40E3D06CB67FCFD4BB822E25E06443F112CD94F2FC2E0310DD65905A36D8F7F621E5EADBFFEE5FF011501FBDABDFE0100 , N'6.1.3-40302')
END

GO

IF EXISTS (SELECT * FROM sys.objects WHERE type = 'TF' AND name = 'ImportDataSummary')
DROP FUNCTION ImportDataSummary
GO

-- =============================================
-- Author:		RS Software
-- Create date: 03/10/2017
-- Description:	Generating Import Summary data 
-- =============================================
CREATE FUNCTION [ImportDataSummary]
(
	@PAYERID INT,
	@YEAR INT
)
RETURNS @K1099SUMMARYCHART TABLE(
		TransactionYear INT,
		PayeeAccountNumber NVARCHAR(20),
		JANUARY DECIMAL(19,2),
		FEBRUARY DECIMAL(19,2),
		MARCH DECIMAL(19,2),
		APRIL DECIMAL(19,2),
		MAY DECIMAL(19,2),
		JUNE DECIMAL(19,2),
		JULY DECIMAL(19,2),
		AUGUST DECIMAL(19,2),
		SEPTEMBER DECIMAL(19,2),
		OCTOBOR DECIMAL(19,2),
		NOVEMBER DECIMAL(19,2),
		DECEMBER DECIMAL(19,2),
		TotalCPAmount DECIMAL(19,2),
		GrossAmount DECIMAL(19,2),
		TotalTransaction INT,
		ImportDetailsId INT,
		SubmissionSummaryId INT,
		SubmissionStatusId INT,
		TINCheckStatus NVARCHAR(2),
		TINCheckRemarks NVARCHAR(512),
		StatusId INT
	)
	 
AS

BEGIN
	DECLARE @TEMPSUMMARY TABLE(
		TransactionYear INT,
		TransactionMonth  INT,
		[PayeeAccountNumber] NVARCHAR(256),
		TransactionAmount DECIMAL(19,2),
		TransactionType NVARCHAR(50),
		TransactionCount INT
	)

	INSERT INTO @TEMPSUMMARY
	SELECT TransactionYear,TransactionMonth,[PayeeAccountNumber],SUM(TransactionAmount) AS TransactionAmount,TransactionType,COUNT(1) AS TransactionCount
	
	FROM 
		(SELECT [PayeeAccountNumber],YEAR(TransactionDate) AS TransactionYear,
		MONTH(TransactionDate) AS TransactionMonth,TransactionAmount,TransactionType
		FROM [RawTransactions] WHERE IsActive = 1
	) P
	
	GROUP BY 
	TransactionYear,TransactionMonth,[PayeeAccountNumber],TransactionType
	ORDER BY 
	TransactionMonth,PayeeAccountNumber
	

	INSERT INTO @K1099SUMMARYCHART(TransactionYear,PayeeAccountNumber
	,JANUARY,FEBRUARY,MARCH,APRIL,MAY,JUNE,JULY,AUGUST,SEPTEMBER,OCTOBOR,NOVEMBER,DECEMBER)
	SELECT TransactionYear,
	PIV.PayeeAccountNumber,
	[1] AS JANUARY,
	[2] AS FEBRUARY,
	[3] AS MARCH,
	[4] AS APRIL,
	[5] AS MAY,
	[6] AS JUNE,
	[7] AS JULY,
	[8] AS AUGUST,
	[9] AS SEPTEMBER,
	[10] AS OCTOBOR,
	[11] AS NOVEMBER,
	[12] AS DECEMBER
	FROM 
	(
	  SELECT TransactionYear,TransactionMonth,PayeeAccountNumber,TransactionAmount
	  FROM @TEMPSUMMARY
	) src
	pivot
	(
	  SUM(TransactionAmount) 
	  FOR TransactionMonth in ([1], [2], [3],[4],[5],[6],[7],[8],[9],[10],[11],[12])
	) PIV
	INNER JOIN [MerchantDetails] M ON M.PayeeAccountNumber = PIV.PayeeAccountNumber AND M.IsActive = 1
	INNER JOIN [PayerDetails] P ON P.ID = M.PayerId AND P.IsActive = 1 AND P.ID = @PAYERID
	WHERE TransactionYear = @YEAR


	UPDATE CHART SET
		CHART.GrossAmount = GOSS.TransactionAmount
	FROM @K1099SUMMARYCHART CHART
	LEFT JOIN (
		SELECT TransactionYear,PayeeAccountNumber,SUM(TransactionAmount) AS TransactionAmount
			FROM @TEMPSUMMARY
			GROUP BY TransactionYear,PayeeAccountNumber
		)GOSS ON GOSS.TransactionYear= CHART.TransactionYear 
		AND GOSS.PayeeAccountNumber = CHART.PayeeAccountNumber 

	UPDATE CHART SET
		CHART.TotalCPAmount = CNP.TransactionAmount
	FROM @K1099SUMMARYCHART CHART
	LEFT JOIN (
			SELECT TransactionYear,PayeeAccountNumber,TransactionType, SUM(TransactionAmount) AS TransactionAmount
			FROM @TEMPSUMMARY
			GROUP BY TransactionYear,PayeeAccountNumber,TransactionType
		)CNP ON CNP.TransactionYear= CHART.TransactionYear 
		AND CNP.PayeeAccountNumber = CHART.PayeeAccountNumber AND CNP.TransactionType = 'CNP'
	
	UPDATE CHART SET
		CHART.TotalTransaction = C.TransactionCount
	FROM @K1099SUMMARYCHART CHART
	LEFT JOIN (
		SELECT TransactionYear,PayeeAccountNumber,SUM(TransactionCount) AS TransactionCount
		FROM @TEMPSUMMARY
		GROUP BY TransactionYear,PayeeAccountNumber
	)C ON C.TransactionYear= CHART.TransactionYear 
		AND C.PayeeAccountNumber = CHART.PayeeAccountNumber

	UPDATE CHART SET
		CHART.ImportDetailsId = EXT.ImportDetailsId, 
		CHART.SubmissionSummaryId = EXT.SubmissionSummaryId ,
		CHART.SubmissionStatusId = EXT.SubmissionStatusId ,
		CHART.StatusId  = EXT.StatusId ,
		CHART.TINCheckStatus = EXT.TINCheckStatus,
		CHART.TINCheckRemarks = EXT.TINCheckRemarks
		
		
	FROM @K1099SUMMARYCHART CHART
	INNER JOIN (
	SELECT D.AccountNumber,
		D.Id ImportDetailsId, 
		D.SubmissionSummaryId ,
		SS.Id SubmissionStatusId,
		SS.StatusId ,
		D.TINCheckStatus,
		D.TINCheckRemarks FROM [ImportDetails] D 
	INNER JOIN [ImportSummaries] S ON S.Id = D.ImportSummaryId AND S.IsActive = 1 AND S.PaymentYear = @YEAR
	INNER JOIN [MerchantDetails] M ON M.ID = D.MerchantId AND M.IsActive = 1
	INNER JOIN [PayerDetails] P ON P.ID = M.PayerId AND P.IsActive = 1 AND P.ID = @PAYERID
	LEFT JOIN [SubmissionStatus] SS ON D.AccountNumber = SS.AccountNumber AND SS.IsActive =1
	WHERE D.IsActive =1   
	) EXT ON CHART.PayeeAccountNumber = EXT.AccountNumber 

	RETURN
END

GO
IF EXISTS (SELECT * FROM sys.objects WHERE type = 'P' AND name = 'PreImportDataProcessing')
DROP PROCEDURE PreImportDataProcessing
GO

-- =============================================
-- Author:		RS Software
-- Create date: 03/10/2017
-- Description:	Clearing all record from the staging table during transaction import 
-- =============================================
CREATE PROCEDURE [PreImportDataProcessing]
	
AS
	-- CLEAR ALL RECORD
	DELETE FROM RawTransactionStagings


RETURN 
GO

IF EXISTS (SELECT * FROM sys.objects WHERE type = 'P' AND name = 'PostImportDataProcessing')
DROP PROCEDURE PostImportDataProcessing
GO

-- =============================================
-- Author:		RS Software
-- Create date: 03/10/2017
-- Description:	Executing Data processing after transaction imported into Staging
-- =============================================
CREATE PROCEDURE [PostImportDataProcessing]
	@YEAR INT = 2016,
	@USERID BIGINT=1,
	@TOTALCOUNT INT=0,
	@FILENAME VARCHAR(255),
	@PAYERID INT
AS
	DECLARE 
	@SUMMARYID INT,
	@PROCESSLOG NVARCHAR(1024)='',
	@RECORDCOUNT INT;

	INSERT INTO ImportSummaries(PaymentYear,ImportDate,UserId,DateAdded,IsActive)
	values (@YEAR,GETDATE(),@USERID,GETDATE(),1)
	SET @SUMMARYID = @@IDENTITY

	DECLARE @K1099SUMMARYCHART TABLE(
		TransactionYear INT,
		PayeeAccountNumber NVARCHAR(20),
		JANUARY DECIMAL(19,2),
		FEBRUARY DECIMAL(19,2),
		MARCH DECIMAL(19,2),
		APRIL DECIMAL(19,2),
		MAY DECIMAL(19,2),
		JUNE DECIMAL(19,2),
		JULY DECIMAL(19,2),
		AUGUST DECIMAL(19,2),
		SEPTEMBER DECIMAL(19,2),
		OCTOBER DECIMAL(19,2),
		NOVEMBER DECIMAL(19,2),
		DECEMBER DECIMAL(19,2),
		TotalCPAmount DECIMAL(19,2),
		GrossAmount DECIMAL(19,2),
		TotalTransaction INT,
		ImportDetailsId INT,
		SubmissionSummaryId INT,
		SubmissionStatusId INT,
		TINCheckStatus NVARCHAR(2),
		TINCheckRemarks NVARCHAR(512),
		StatusId INT
	)

	BEGIN TRY  
	BEGIN TRANSACTION K1099

	SET @PROCESSLOG = '1099K: Import Process Starts' +CHAR(13)+CHAR(10)
	SET @PROCESSLOG = @PROCESSLOG + 'Import Date: '+CAST(GETDATE() AS VARCHAR) +CHAR(13)+CHAR(10)
	SET @PROCESSLOG = @PROCESSLOG + 'File Name: '+@FILENAME+CHAR(13)+CHAR(10)
	SET @PROCESSLOG = @PROCESSLOG + 'Transaction Count: '+CAST(@TOTALCOUNT AS VARCHAR) +CHAR(13)+CHAR(10)
	
	-- ARCHIVE EXISTING DATA
	UPDATE [RawTransactions] SET Isactive = 0 WHERE IsActive=1
	
	BEGIN TRY

		-- INSERT NEW DATA
		INSERT INTO [RawTransactions](PayeeAccountNumber,TransactionType,TransactionAmount,TransactionDate,IsActive,UserID,DateAdded)
		SELECT 
		[PayeeAccountNumber], 
		CASE WHEN [TransactionType] = 7 THEN 'CNP' ELSE 'CP' END AS [TransactionType],
		CAST([TransactionAmount] AS DECIMAL(19,2)) AS TransactionAmount, 
		CAST([TransactionDate] AS DATE) AS TransactionDate,
		1,
		@USERID,
		GETDATE()
		FROM [RawTransactionStagings]

		SET @RECORDCOUNT = @@ROWCOUNT
		
	END TRY
	BEGIN CATCH
	PRINT ERROR_MESSAGE();
	SET @PROCESSLOG = @PROCESSLOG + 'INVALID DATA : '+ERROR_MESSAGE()+' ,ERROR CODE : ' +CAST(ERROR_NUMBER() AS VARCHAR)+''+CHAR(13)+CHAR(10)
	ROLLBACK TRANSACTION K1099
	GOTO ENDPROCESS
	END CATCH;
	
	INSERT INTO @K1099SUMMARYCHART
	SELECT * FROM [ImportDataSummary](@PAYERID,@YEAR)

	-- ARCHIVE EXISTING SUBMISSION STATUS
	UPDATE S
	SET S.IsActive = 0
	FROM SubmissionStatus S
	INNER JOIN @K1099SUMMARYCHART C ON S.Id = C.SubmissionStatusId AND ISNULL(C.StatusId,0) IN (0,1,2,3,4)
	
	-- CLEAR EXISTING DATA THAT ARE NOT SUBMITTED
	UPDATE D
	SET D.IsActive = 0
	FROM ImportDetails D
	INNER JOIN @K1099SUMMARYCHART C ON D.Id = C.ImportDetailsId AND ISNULL(C.StatusId,0) IN (0,1,2,3,4)

	DECLARE @PAYERNAME VARCHAR(127)
	SELECT @PAYERNAME = p.FirstPayerName FROM [PayerDetails] p where Id = @PAYERID

	INSERT INTO ImportDetails (AccountNumber,ImportSummaryId,TINCheckStatus,TINCheckRemarks,SubmissionSummaryId,TINType,TIN,
	PayerOfficeCode,GrossAmount,CNPTransactionAmount,FederalWithHoldingAmount,
	JanuaryAmount,FebruaryAmount,MarchAmount,AprilAmount,MayAmount,JuneAmount,JulyAmount,AugustAmount,
	SeptemberAmount,OctoberAmount,NovemberAmount,DecemberAmount,ForeignCountryIndicator,FirstPayeeName,
	SecondPayeeName,PayeeMailingAddress,PayeeCity,PayeeState,PayeeZipCode,SecondTINNoticed,FillerIndicatorType,
	PaymentIndicatorType,TransactionCount,MerchantId,MerchantCategoryCode,SpecialDataEntry,StateWithHolding,
	LocalWithHolding,CFSF,IsActive,DateAdded)

	SELECT C.PayeeAccountNumber,@SUMMARYID,C.TINCheckStatus,C.TINCheckRemarks,C.SubmissionSummaryId,D.TINType,D.PayeeTIN,
	D.PayeeOfficeCode,C.GrossAmount,C.TotalCPAmount,NULL,
	C.JANUARY,C.FEBRUARY,C.MARCH,C.APRIL,C.MAY,C.JUNE,C.JULY,C.AUGUST,
	C.SEPTEMBER,C.OCTOBER,C.NOVEMBER,C.DECEMBER,NULL,SUBSTRING(D.[FirstPayeeName],1,40), 
	SUBSTRING(D.[SecondPayeeName],1,40),SUBSTRING(D.[PayeeMailingAddress],1,40),SUBSTRING(D.[PayeeCity],1,40),D.[PayeeState],REPLACE(D.[PayeeZIP],'-',''),null,D.[FilerIndicatorType], 
	D.[PaymentIndicatorType],C.TotalTransaction,D.Id,D.[MCC],NULL,NULL,
	NULL,D.CFSF,1,GETDATE()

	FROM @K1099SUMMARYCHART C
	INNER JOIN  [MerchantDetails] D ON C.PayeeAccountNumber = D.PayeeAccountNumber 
		AND D.IsActive = 1 AND D.PayerId = @PAYERID
	WHERE ISNULL(C.StatusId,0) IN (0,1,2,3,4)

	SET @PROCESSLOG = @PROCESSLOG + 'Account associated with '+@PAYERNAME+':'+CAST(@@ROWCOUNT AS VARCHAR)+CHAR(13)+CHAR(10)

	----- Correction ------
	INSERT INTO SubmissionStatus (PaymentYear,AccountNumber,ProcessingDate,StatusId,IsActive,DateAdded)
	SELECT @YEAR ,C.PayeeAccountNumber ,GetDate(),4,1,GetDate()
	FROM  @K1099SUMMARYCHART C
	WHERE C.StatusId=3
	--------------------------------------------------------------------

	

	DECLARE @ORPHANT NVARCHAR(1024),@ORPHANTCOUNT INT

	SELECT @ORPHANTCOUNT = COUNT(*)
	FROM @K1099SUMMARYCHART S
	LEFT JOIN  [MerchantDetails] D ON S.PayeeAccountNumber = D.PayeeAccountNumber 
		AND D.IsActive = 1 AND D.PayerId = @PayerId
	WHERE S.TransactionYear = @YEAR AND ISNULL(S.StatusId,0) NOT IN (0,1,2,3,4)


	IF @ORPHANTCOUNT>0
	BEGIN
		SET @PROCESSLOG = @PROCESSLOG + 'Account not associated with '+@PAYERNAME+':'+CAST(@ORPHANTCOUNT AS VARCHAR)+CHAR(13)+CHAR(10)
	END

	SET @PROCESSLOG = @PROCESSLOG + 'Import Successful'+CHAR(13)+CHAR(10)

		COMMIT TRANSACTION K1099
		END TRY  
	BEGIN CATCH  
		SET @PROCESSLOG = @PROCESSLOG + 'EXCEPTION : '+ERROR_MESSAGE()
		ROLLBACK TRANSACTION K1099
	END CATCH 
	
	ENDPROCESS:

	UPDATE ImportSummaries SET
		RecordCount = @RECORDCOUNT,
		ProcessLog = @PROCESSLOG,
		[FileName] = @FILENAME,
		ImportDate = GETDATE()
	WHERE Id = @SUMMARYID
	
	

RETURN
GO